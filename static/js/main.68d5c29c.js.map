{"version":3,"sources":["../static/js/main.68d5c29c.js","../webpack/bootstrap a5e5d217e32b69a1d856","vector2D.js","../node_modules/react-scripts/node_modules/promise/lib/core.js","../node_modules/react-scripts/config/polyfills.js","../node_modules/react-scripts/node_modules/promise/lib/rejection-tracking.js","../node_modules/asap/browser-raw.js","../node_modules/webpack/buildin/global.js","../node_modules/react-scripts/node_modules/promise/lib/es6-extensions.js","../node_modules/whatwg-fetch/fetch.js","../node_modules/object-assign/index.js","index.js","game.js","entities/entController.js","entities/ship.js","entities/bullet.js","entities/afterGlow.js","entities/asteroid.js","entities/powerup.js","visuals/vfxController.js","visuals/twinkle.js","visuals/explosion.js","visuals/cloud.js","sounds/sfxController.js","sounds/beep.wav","sounds/powerup.wav","sounds/thruster.wav","sounds/shoot.wav","sounds/death.wav","sounds/bounce.wav","sounds/crack.wav","sounds/break.wav"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","construct","a","b","coord","arguments","length","undefined","x","Math","cos","y","sin","add","angle","atan2","dot","negate","norm","sqrt","pow","scale","sub","trunc","nrm","unit","wrap","w","h","noop","getThen","obj","then","ex","LAST_ERROR","IS_ERROR","tryCallOne","fn","tryCallTwo","Promise","this","TypeError","_75","_83","_18","_38","doResolve","safeThen","self","onFulfilled","onRejected","constructor","resolve","reject","res","handle","Handler","deferred","_47","push","handleResolved","asap","cb","promise","ret","newValue","finale","bind","_71","done","value","reason","_44","enable","window","assign","disable","enabled","options","onUnhandled","id","allRejections","matchWhitelist","rejections","error","whitelist","DEFAULT_WHITELIST","displayId","logged","logError","onHandled","console","warn","_56","clearTimeout","timeout","err","setTimeout","stack","split","forEach","line","list","some","cls","ReferenceError","RangeError","global","rawAsap","task","queue","requestFlush","flushing","flush","index","currentIndex","capacity","scan","newLength","makeRequestCallFromTimer","callback","handleTimer","timeoutHandle","clearInterval","intervalHandle","setInterval","scope","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","toggle","observer","node","document","createTextNode","observe","characterData","data","g","Function","eval","e","valuePromise","TRUE","FALSE","NULL","UNDEFINED","ZERO","EMPTYSTRING","all","arr","args","Array","slice","val","remaining","race","values","normalizeName","String","test","toLowerCase","normalizeValue","iteratorFor","items","iterator","next","shift","support","iterable","Symbol","Headers","headers","map","append","isArray","header","getOwnPropertyNames","consumed","body","bodyUsed","fileReaderReady","reader","onload","result","onerror","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","fromCharCode","join","bufferClone","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","searchParams","URLSearchParams","toString","arrayBuffer","isDataView","_bodyArrayBuffer","ArrayBuffer","isArrayBufferView","Error","type","rejected","text","decode","json","JSON","parse","normalizeMethod","method","upcased","toUpperCase","methods","indexOf","Request","input","url","credentials","mode","referrer","form","trim","bytes","replace","decodeURIComponent","parseHeaders","rawHeaders","parts","key","Response","bodyInit","status","ok","statusText","fetch","viewClasses","DataView","isView","oldValue","has","thisArg","keys","entries","clone","response","redirectStatuses","redirect","location","init","request","xhr","XMLHttpRequest","getAllResponseHeaders","responseURL","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","send","polyfill","toObject","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","test1","test2","test3","letter","target","source","from","symbols","to","__WEBPACK_IMPORTED_MODULE_0__index_css__","__WEBPACK_IMPORTED_MODULE_1__game_js__","min","innerWidth","innerHeight","_classCallCheck","instance","Constructor","__WEBPACK_IMPORTED_MODULE_0__entities_entController_js__","__WEBPACK_IMPORTED_MODULE_1__visuals_vfxController_js__","__WEBPACK_IMPORTED_MODULE_2__sounds_sfxController_js__","__WEBPACK_IMPORTED_MODULE_3__vector2D_js__","_createClass","defineProperties","props","descriptor","writable","protoProps","staticProps","Game","width","height","cellSize","level","score","highScore","wBounds","hBounds","ent","vfx","sfx","frontScreen","createElement","border","frontBuff","getContext","appendChild","backScreen","backBuff","elapseCounter","lowestTime","speed","state","handleKeyDown","handleKeyUp","loop","pause","render","restart","unpause","update","onkeydown","onkeyup","event","preventDefault","repeat","ship","pullInput","sig","str","loopID","play","stopInput","_this","textFont","textWidth","textHeight","lastAction","t","font","measureText","subText","mssgText","levelText","scoreText","livesText","fontSize","minSize","mssgTop","clearRect","save","fillStyle","resizeText","fillText","floor","lives","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","mssg","return","fillRect","restore","drawImage","_this2","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","visuals","visual","explosion","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","cloud","log","channel","sounds","__WEBPACK_IMPORTED_MODULE_0__ship_js__","__WEBPACK_IMPORTED_MODULE_1__asteroid_js__","__WEBPACK_IMPORTED_MODULE_2__powerup_js__","EntController","bullets","asteroids","spawn","aLimit","powerups","pos","diff","lvl","round","random","vel","j","upgrades","colors","sound","choice","degrade","subUnit","track","prz","splice","ctx","powerup","bullet","asteroid","effects","clouds","propel","shoot","concat","sze","bounce","pu","atm","inv","fire","findIndex","entity","breakAsteroid","filter","createAsteroid","__WEBPACK_IMPORTED_MODULE_0__bullet_js__","__WEBPACK_IMPORTED_MODULE_1__vector2D_js__","Ship","ori","lat","spd","maxSpd","ang","trq","sht","cld","upgCld","maxCld","PI","rad","life","dens","inp","disA","disB","translate","rotate","strokeStyle","beginPath","arc","fill","stroke","moveTo","lineTo","closePath","__WEBPACK_IMPORTED_MODULE_0__afterGlow_js__","Bullet","color","afterglow","glow","AfterGlow","maxLife","per","__WEBPACK_IMPORTED_MODULE_0__vector2D_js__","Asteroid","spn","ort","sur","createSurface","ast","v1","v2","d1","d2","newR","r","probability","center","subLevels","sLvl","subUnits","angleBase","radius","offset","Powerup","tag","__WEBPACK_IMPORTED_MODULE_0__twinkle_js__","__WEBPACK_IMPORTED_MODULE_1__explosion_js__","__WEBPACK_IMPORTED_MODULE_2__cloud_js__","VFXController","explosions","twinkles","twinkle","trails","Twinkle","size","Explosion","bra","Cloud","density","pPos","__WEBPACK_IMPORTED_MODULE_0__beep_wav__","__WEBPACK_IMPORTED_MODULE_0__beep_wav___default","__WEBPACK_IMPORTED_MODULE_1__powerup_wav__","__WEBPACK_IMPORTED_MODULE_1__powerup_wav___default","__WEBPACK_IMPORTED_MODULE_2__thruster_wav__","__WEBPACK_IMPORTED_MODULE_2__thruster_wav___default","__WEBPACK_IMPORTED_MODULE_3__shoot_wav__","__WEBPACK_IMPORTED_MODULE_3__shoot_wav___default","__WEBPACK_IMPORTED_MODULE_4__death_wav__","__WEBPACK_IMPORTED_MODULE_4__death_wav___default","__WEBPACK_IMPORTED_MODULE_5__bounce_wav__","__WEBPACK_IMPORTED_MODULE_5__bounce_wav___default","__WEBPACK_IMPORTED_MODULE_6__crack_wav__","__WEBPACK_IMPORTED_MODULE_6__crack_wav___default","__WEBPACK_IMPORTED_MODULE_7__break_wav__","__WEBPACK_IMPORTED_MODULE_7__break_wav___default","SFXController","channels","ui","tracks","beep","thruster","death","crack","break","paused","src","currentTime","chan"],"mappings":"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","file":"static/js/main.68d5c29c.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/asteroid/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = construct;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = add;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = angle;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = dot;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = negate;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = norm;\n/* unused harmony export pow */\n/* unused harmony export rotate */\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = scale;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = sub;\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = trunc;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = unit;\n/* harmony export (immutable) */ __webpack_exports__[\"k\"] = wrap;\n/* vector2D.js *//** @function construct\r\n *  Constructs a new 2D vector using either coordinates or magnitude and angle.\r\n *  @param  {Number}   a         The x coordinate or the magnitude.\r\n *  @param  {Number}   b         The y coordinate or the angle.\r\n *  @param  {Boolean}  coord     Whether to use coordinates (true) or magnitude and angle (false).\r\n *  @return {Object}             The 2D vector containing the provided data.\r\n */function construct(a,b){var coord=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;return{x:coord?a:a*Math.cos(b),y:coord?b:a*Math.sin(b)};}/** @function add\r\n *  Adds two vectors together.\r\n *  @param  {Object}  a   The left operand vector.\r\n *  @param  {Object}  b   The right operand vector.\r\n *  @return {Object}      The result of the addition.\r\n */function add(a,b){return{x:a.x+b.x,y:a.y+b.y};}/** @function angle\r\n *  Finds the angle of a vector.\r\n *  @param {Object} a   The vector to negate.\r\n *  @return {Number}    The angle, in radians, to rotate the vector.\r\n */function angle(a){return Math.atan2(a.y,a.x);}/** @function dot\r\n *  Sums the products of the individual units of two vectors.\r\n *  @param  {Object} a   The left operand vector.\r\n *  @param  {Object} b   The right operand vector.\r\n *  @return {Number}       The dot product of this and another vector.\r\n */function dot(a,b){return a.x*b.x+a.y*b.y;}/** @function negate\r\n *  Negates the units of this vector.\r\n *  @param  {Object} a   The vector to negate.\r\n *  @return {Object}     The negated vector.\r\n */function negate(a){return{x:-a.x,y:-a.y};}/** @function norm\r\n *  Finds the magnitude of this vector.\r\n *  @param  {Object} a   The vector to normalize.\r\n *  @return {Number}     The magnitude of this vector.\r\n */function norm(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2));}/** @function pow\r\n *  Performs an exponential operation on each unit of a vector.\r\n *  @param  {Object}   a   The left operand vector.\r\n *  @param  {Number}   p   The exponential value.\r\n *  @return {Object}       The result of the operation.\r\n */function pow(a,p){return{x:Math.pow(a.x,p),y:Math.pow(a.y,p)};}/** @function rotate\r\n *  Rotates a vector about the origin.\r\n *  @param  {Object}    a       The vector to rotate.\r\n *  @param  {Number}    theta   The angle, in radians, to rotate by.\r\n *  @return {Object}            The result of rotating this vector.\r\n */function rotate(a,theta){return{x:Math.cos(theta)*a.x-Math.sin(theta)*a.y,y:Math.sin(theta)*a.x+Math.cos(theta)*a.y};}/** @function scale\r\n *  Scale a vector by a constant.\r\n *  @param  {Object}   a   The left operand vecotr.\r\n *  @param  {Number}   s   The scaler amount.\r\n *  @return {Vector2D}     The result of scaling the vector.\r\n */function scale(a,s){return{x:a.x*s,y:a.y*s};}/** @function sub\r\n *  Subtracts one vector from another.\r\n *  @param  {Object}   a   The left operand vecotr.\r\n *  @param  {Object}   b   The right operand vector.\r\n *  @return {Object}       The result of the subtraction.\r\n */function sub(a,b){return{x:a.x-b.x,y:a.y-b.y};}/** @function trim\r\n *  Trims the magnitude of this vector to a certain max value.\r\n *  @param  {Object} a   The vector to trim.\r\n *  @param  {Number} b   The max value the magnitude should be.\r\n *  @return {Object}     The result of attempting to trim the vector.\r\n */function trunc(a,m){var nrm=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2));if(nrm>m)return{x:a.x*m/nrm,y:a.y*m/nrm};else return a;}/** @function unit\r\n *  Transforms this vector into a unit vector.\r\n *  @param  {Object} a    The vector to make unit length.\r\n *  @return {Object}      The result of scaling the vector to unit length.\r\n */function unit(a){var nrm=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2));return{x:a.x/nrm,y:a.y/nrm};}/** @function wrap\r\n *  Clamps this vector to be between the values specified in two other vectors.\r\n *  @param  {Object} a   The vector to wrap.\r\n *  @param  {Object} w   The vector containing the max and min values for the x coordinate.\r\n *  @param  {Object} h   The vector containing the max and min values for the y coordinate.\r\n *  @return {Object}     The wrapped vector.\r\n */function wrap(a,w,h){return{x:(w.y+a.x-2*w.x)%(w.y-w.x)+w.x,y:(h.y+a.y-2*h.x)%(h.y-h.x)+h.x};}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar asap = __webpack_require__(5);\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('Promise constructor\\'s argument is not a function');\n  }\n  this._75 = 0;\n  this._83 = 0;\n  this._18 = null;\n  this._38 = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._47 = null;\nPromise._71 = null;\nPromise._44 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n}\nfunction handle(self, deferred) {\n  while (self._83 === 3) {\n    self = self._18;\n  }\n  if (Promise._47) {\n    Promise._47(self);\n  }\n  if (self._83 === 0) {\n    if (self._75 === 0) {\n      self._75 = 1;\n      self._38 = deferred;\n      return;\n    }\n    if (self._75 === 1) {\n      self._75 = 2;\n      self._38 = [self._38, deferred];\n      return;\n    }\n    self._38.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._83 === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._83 === 1) {\n        resolve(deferred.promise, self._18);\n      } else {\n        reject(deferred.promise, self._18);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._18);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._83 = 3;\n      self._18 = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._83 = 1;\n  self._18 = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._83 = 2;\n  self._18 = newValue;\n  if (Promise._71) {\n    Promise._71(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._75 === 1) {\n    handle(self, self._38);\n    self._38 = null;\n  }\n  if (self._75 === 2) {\n    for (var i = 0; i < self._38.length; i++) {\n      handle(self, self._38[i]);\n    }\n    self._38 = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  });\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(3);\nmodule.exports = __webpack_require__(10);\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// @remove-on-eject-begin\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n// @remove-on-eject-end\n\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  __webpack_require__(4).enable();\n  window.Promise = __webpack_require__(7);\n}\n\n// fetch() polyfill for making API calls.\n__webpack_require__(8);\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = __webpack_require__(9);\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Promise = __webpack_require__(1);\n\nvar DEFAULT_WHITELIST = [\n  ReferenceError,\n  TypeError,\n  RangeError\n];\n\nvar enabled = false;\nexports.disable = disable;\nfunction disable() {\n  enabled = false;\n  Promise._47 = null;\n  Promise._71 = null;\n}\n\nexports.enable = enable;\nfunction enable(options) {\n  options = options || {};\n  if (enabled) disable();\n  enabled = true;\n  var id = 0;\n  var displayId = 0;\n  var rejections = {};\n  Promise._47 = function (promise) {\n    if (\n      promise._83 === 2 && // IS REJECTED\n      rejections[promise._56]\n    ) {\n      if (rejections[promise._56].logged) {\n        onHandled(promise._56);\n      } else {\n        clearTimeout(rejections[promise._56].timeout);\n      }\n      delete rejections[promise._56];\n    }\n  };\n  Promise._71 = function (promise, err) {\n    if (promise._75 === 0) { // not yet handled\n      promise._56 = id++;\n      rejections[promise._56] = {\n        displayId: null,\n        error: err,\n        timeout: setTimeout(\n          onUnhandled.bind(null, promise._56),\n          // For reference errors and type errors, this almost always\n          // means the programmer made a mistake, so log them after just\n          // 100ms\n          // otherwise, wait 2 seconds to see if they get handled\n          matchWhitelist(err, DEFAULT_WHITELIST)\n            ? 100\n            : 2000\n        ),\n        logged: false\n      };\n    }\n  };\n  function onUnhandled(id) {\n    if (\n      options.allRejections ||\n      matchWhitelist(\n        rejections[id].error,\n        options.whitelist || DEFAULT_WHITELIST\n      )\n    ) {\n      rejections[id].displayId = displayId++;\n      if (options.onUnhandled) {\n        rejections[id].logged = true;\n        options.onUnhandled(\n          rejections[id].displayId,\n          rejections[id].error\n        );\n      } else {\n        rejections[id].logged = true;\n        logError(\n          rejections[id].displayId,\n          rejections[id].error\n        );\n      }\n    }\n  }\n  function onHandled(id) {\n    if (rejections[id].logged) {\n      if (options.onHandled) {\n        options.onHandled(rejections[id].displayId, rejections[id].error);\n      } else if (!rejections[id].onUnhandled) {\n        console.warn(\n          'Promise Rejection Handled (id: ' + rejections[id].displayId + '):'\n        );\n        console.warn(\n          '  This means you can ignore any previous messages of the form \"Possible Unhandled Promise Rejection\" with id ' +\n          rejections[id].displayId + '.'\n        );\n      }\n    }\n  }\n}\n\nfunction logError(id, error) {\n  console.warn('Possible Unhandled Promise Rejection (id: ' + id + '):');\n  var errStr = (error && (error.stack || error)) + '';\n  errStr.split('\\n').forEach(function (line) {\n    console.warn('  ' + line);\n  });\n}\n\nfunction matchWhitelist(error, list) {\n  return list.some(function (cls) {\n    return error instanceof cls;\n  });\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6)))\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = __webpack_require__(1);\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._44);\n  p._83 = 1;\n  p._18 = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nPromise.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._83 === 3) {\n            val = val._18;\n          }\n          if (val._83 === 1) return res(i, val._18);\n          if (val._83 === 2) reject(val._18);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index_css__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__index_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game_js__ = __webpack_require__(12);\nvar length=Math.min(window.innerWidth,window.innerHeight);new __WEBPACK_IMPORTED_MODULE_1__game_js__[\"a\" /* default */](length/2.5,length/2.5,length/40);\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__entities_entController_js__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__visuals_vfxController_js__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sounds_sfxController_js__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__vector2D_js__ = __webpack_require__(0);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/* game.js *//** @class Game\r\n *  The controller for the game itself.\r\n *  @type {Game}\r\n */var Game=function(){/** @constructor\r\n   *  Constructs a new game controller.\r\n   *  @param  {[Number]} width      The width of the visible screen.\r\n   *  @param  {[Number]} height     The height of the visible screen.\r\n   *  @param  {[Number]} cellSize   The size of the screen divisions.\r\n   */function Game(width,height,cellSize){_classCallCheck(this,Game);this.level=0;this.score=0;this.highScore=0;this.width=width;this.height=height;this.cellSize=cellSize;this.wBounds=__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"c\" /* construct */](-this.cellSize/4,this.width+this.cellSize/4);this.hBounds=__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"c\" /* construct */](-this.cellSize/4,this.height+this.cellSize/4);// Create controllers for the various assets\nthis.ent=new __WEBPACK_IMPORTED_MODULE_0__entities_entController_js__[\"a\" /* default */](width,height,cellSize);this.vfx=new __WEBPACK_IMPORTED_MODULE_1__visuals_vfxController_js__[\"a\" /* default */](width,height,cellSize);this.sfx=new __WEBPACK_IMPORTED_MODULE_2__sounds_sfxController_js__[\"a\" /* default */]();// Create front buffer\nthis.frontScreen=document.createElement('canvas');this.frontScreen.width=width*2.45;this.frontScreen.height=height*2.45;this.frontScreen.border='solid';this.frontBuff=this.frontScreen.getContext('2d');document.body.appendChild(this.frontScreen);// Create back buffer\nthis.backScreen=document.createElement('canvas');this.backScreen.width=width;this.backScreen.height=height;this.backScreen.border='solid';this.backBuff=this.backScreen.getContext('2d');// Create flow control variables\nthis.elapseCounter=0;this.lowestTime=0;this.speed=20;this.state=\"paused\";// Bind functions to context\nthis.handleKeyDown=this.handleKeyDown.bind(this);this.handleKeyUp=this.handleKeyUp.bind(this);this.loop=this.loop.bind(this);this.pause=this.pause.bind(this);this.render=this.render.bind(this);this.restart=this.restart.bind(this);this.unpause=this.unpause.bind(this);this.update=this.update.bind(this);// Bind event handlers\nwindow.onkeydown=this.handleKeyDown;window.onkeyup=this.handleKeyUp;this.render(\"High Score: \"+this.highScore+\" ast \"+this.lowestTime+\" tu\",[\"WASD to move\",\"UpArrow/Space to shoot forward\",\"DownArrow to shoot backward\",\"P/Pause to pause/unpause\",\"Shift + R to restart\"]);}/** @function handleKeyDown\r\n   *  The beginning of a key press event.\r\n   *  @param  {Object} event The key down event that was triggered.\r\n   */_createClass(Game,[{key:\"handleKeyDown\",value:function handleKeyDown(event){event.preventDefault();switch(event.key){case'w':if(!event.repeat)this.ent.ship.pullInput({sig:\"acc\",str:0.08});break;case'a':if(!event.repeat)this.ent.ship.pullInput({sig:\"ccw\",str:2});else this.ent.ship.pullInput({sig:\"ccw\",str:6});break;case's':if(!event.repeat)this.ent.ship.pullInput({sig:\"acc\",str:-0.08});break;case'd':if(!event.repeat)this.ent.ship.pullInput({sig:\"cw\",str:2});else this.ent.ship.pullInput({sig:\"cw\",str:6});break;case' ':case'ArrowUp':if(this.state===\"running\")if(!event.repeat)this.ent.ship.pullInput({sig:\"sht\",str:0.5});else this.ent.ship.pullInput({sig:\"sht\",str:0.6});break;case'ArrowDown':if(this.state===\"running\")if(!event.repeat)this.ent.ship.pullInput({sig:\"sht\",str:-0.5});else this.ent.ship.pullInput({sig:\"sht\",str:-0.6});break;case'R':clearInterval(this.loopID);this.restart();break;case'p':case'Pause':if(!event.repeat){switch(this.state){case\"running\":this.sfx.play(\"ui\",\"beep\");this.pause();break;case\"paused\":this.sfx.play(\"ui\",\"beep\");this.unpause();break;case\"complete\":this.sfx.play(\"ui\",\"beep\");clearTimeout(this.loopID);this.restart(this.level+1);break;case\"over\":this.sfx.play(\"ui\",\"beep\");this.restart();break;default:break;}}break;default:break;}}/** @function handleKeyUp\r\n   *  The end of a key press event.\r\n   *  @param  {Object} event The key up event that was triggered.\r\n   */},{key:\"handleKeyUp\",value:function handleKeyUp(event){event.preventDefault();switch(event.key){case'w':this.ent.ship.stopInput('acc');break;case'a':this.ent.ship.stopInput(\"ccw\");break;case's':this.ent.ship.stopInput('acc');break;case'd':this.ent.ship.stopInput(\"cw\");break;case' ':case'ArrowUp':this.ent.ship.stopInput(\"sht\");break;case'ArrowDown':this.ent.ship.stopInput(\"sht\");break;default:break;}}/** @function loop\r\n   *  Updates the entities and renders them each loop iteration.\r\n   */},{key:\"loop\",value:function loop(){var _this=this;this.update();switch(this.state){case'running':this.render(\"High Score: \"+this.highScore+\" ast \"+this.lowestTime+\" tu\");break;case'complete':this.render(\"\",[\"Level Complete!\"]);clearInterval(this.loopID);this.loopID=setTimeout(function(){return _this.restart(_this.level+1);},2000);break;case'over':this.render(\"High Score: \"+this.highScore+\" ast \"+this.lowestTime+\" tu\",[\"Game Over!\",\"\",\"Press P/Pause to restart\"]);clearInterval(this.loopID);break;case'paused':default:break;}this.elapseCounter++;}/** @function pause\r\n   *  Pauses the game.\r\n   */},{key:\"pause\",value:function pause(){this.state=\"paused\";clearInterval(this.loopID);this.render(\"High Score: \"+this.highScore+\" ast \"+this.lowestTime+\" tu\",[\"Game is paused\"]);}},{key:\"resizeText\",value:function resizeText(text){var width=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.cellSize;var height=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.cellSize;var textFont=this.cellSize,textWidth=void 0,textHeight=void 0,lastAction=\"none\";for(var t=0;t<100;t++){// Set font\nthis.backBuff.font=textFont+\"pt Arial\";// Measure text\ntextWidth=this.backBuff.measureText(text).width;textHeight=this.backBuff.measureText(\"M\").width;// Grow if font is too small\nif(textWidth<width&&textHeight<height&&lastAction!==\"shrink\"){textFont++;lastAction=\"grow\";}// Shrink if font is too big\nelse if(textWidth>width||textHeight>height){textFont--;// If that last change made it too big, shrink and return\nif(lastAction===\"grow\")return textFont;// Otherwise shrink and continue\nelse lastAction=\"shrink\";}// Otherwise return\nelse return textFont;}return textFont;}/** @function render\r\n   *  Renders all the entities on the screen.\r\n   *  @param  {String} mssgText The state specific text to display.\r\n   */},{key:\"render\",value:function render(){var subText=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var mssgText=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var levelText=void 0,scoreText=void 0,livesText=void 0,fontSize=void 0,minSize=void 0,textWidth=void 0,mssgTop=void 0;// Clear view\nthis.backBuff.clearRect(0,0,this.width,this.height);// Render visual effects\nthis.vfx.render(this.backBuff);// Render entities\nthis.ent.render(this.backBuff);// Save canvas context settings\nthis.backBuff.save();// Set the fill color to a transparent white\nthis.backBuff.fillStyle='rgba(255, 127, 0, 0.6)';// Setup text for the level\nlevelText=\"Level: \"+(this.level+1);this.resizeText(levelText,this.cellSize*3);// Print level text\nthis.backBuff.fillText(levelText,5,this.cellSize+5);// Setup text for the score and time\nscoreText=\"Score: \"+this.score+\" Time: \"+Math.floor(this.elapseCounter/100);fontSize=this.resizeText(scoreText,this.cellSize*7);this.backBuff.font=fontSize-fontSize/2*(this.elapseCounter%100)/100+\"pt Arial\";textWidth=this.backBuff.measureText(scoreText).width;// Print score and time text\nthis.backBuff.fillText(scoreText,(this.width-textWidth)/2,this.cellSize-this.cellSize/2*(this.elapseCounter%100)/100+5);// Setup text for the lives\nlivesText=\"Lives: \"+this.ent.ship.lives;this.resizeText(livesText,this.cellSize*3);textWidth=this.backBuff.measureText(livesText).width;// Print lives text\nthis.backBuff.fillText(livesText,this.width-textWidth-5,this.cellSize+5);if(mssgText.length>0){// Get the font size for the message text\nminSize=this.width;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=mssgText[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var mssg=_step.value;fontSize=this.resizeText(mssg,this.width-10,this.cellSize*0.75);if(fontSize<minSize)minSize=fontSize;}// Set to minimum size so size is consistant\n}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}this.backBuff.font=minSize+\"pt Arial\";// Setup the layout variables for the message\nmssgTop=(this.height-this.cellSize*0.75*mssgText.length)/2;// Create a neutral background\nthis.backBuff.fillStyle=\"black\";this.backBuff.fillRect(5,mssgTop,this.width-10,this.cellSize*0.75*mssgText.length+5);this.backBuff.fillStyle='rgba(255, 127, 0, 0.6)';// Print the message text centered on the view\nfor(var _mssg=0;_mssg<mssgText.length;_mssg++){// Measure this line of text\ntextWidth=this.backBuff.measureText(mssgText[_mssg]).width;// Print as appropriately centered\nthis.backBuff.fillText(mssgText[_mssg],(this.width-textWidth)/2,mssgTop+this.cellSize*0.75*(_mssg+1));}}if(subText){// Setup text for the sub text\nthis.resizeText(subText,this.width-10,this.cellSize*0.75);textWidth=this.backBuff.measureText(subText).width;// Print sub text\nthis.backBuff.fillText(subText,(this.width-textWidth)/2,this.height-5);}// Restore canvas context settings\nthis.backBuff.restore();// Print back buffer onto front buffer\nthis.frontBuff.save();this.frontBuff.scale(2.45,2.45);this.frontBuff.clearRect(0,0,this.width,this.height);this.frontBuff.drawImage(this.backScreen,0,0);this.frontBuff.restore();}/** @function restart\r\n   *  Starts/Restarts a level of the game.\r\n   *  @param  {Number} level The level to setup.\r\n   */},{key:\"restart\",value:function restart(){var level=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;this.level=level;if(this.score>this.highScore){this.highScore=this.score;this.lowestTime=Math.floor(this.elapseCounter/100);}else if(this.score===this.highScore&&Math.floor(this.elapseCounter/100)<this.lowestTime)this.lowestTime=Math.floor(this.elapseCounter/100);this.score=this.level>0?this.score:0;this.elapseCounter=this.level>0?this.elapseCounter:0;this.speed=20;this.state=\"paused\";this.ent.restart(level);this.vfx.restart();this.render(\"High Score: \"+this.highScore+\" ast \"+this.lowestTime+\" tu\",[\"Game is paused\",\"\",\"WASD to move\",\"UpArrow/Space to shoot forward\",\"DownArrow to shoot backward\",\"P/Pause to pause/unpause\",\"Shift + R to restart\"]);}/** @function unpause\r\n   *  Unpauses the game.\r\n   */},{key:\"unpause\",value:function unpause(){var _this2=this;this.state=\"running\";this.loopID=setInterval(function(){return _this2.loop();},this.speed);this.render(\"High Score: \"+this.highScore+\" ast \"+this.lowestTime+\" tu\");}/** @function update\r\n   *  Updates all the entities in the game.\r\n   */},{key:\"update\",value:function update(){var result=this.ent.update(this.elapseCounter,this.score);this.vfx.update();var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=result.visuals[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var visual=_step2.value;switch(visual.type){case\"explosion\":this.vfx.explosion(visual.data);break;case\"clouds\":var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=visual.data[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var cloud=_step3.value;this.vfx.cloud(cloud);}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}break;default:console.log(\"unknown visual effect\");break;}}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}for(var channel in result.sounds){this.sfx.play(channel,result.sounds[channel]);}this.score=result.score;this.state=result.state;}}]);return Game;}();/* harmony default export */ __webpack_exports__[\"a\"] = (Game);\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ship_js__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__asteroid_js__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__powerup_js__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__vector2D_js__ = __webpack_require__(0);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/* entController.js *//** @class EntController\r\n *  The controller for entities of the game.\r\n *  @type {EntController}\r\n */var EntController=function(){/** @constructor\r\n   *  Constructs a new entity controller.\r\n   *  @param  {[Number]} width      The width of the visible screen.\r\n   *  @param  {[Number]} height     The height of the visible screen.\r\n   *  @param  {[Number]} cellSize   The size of the screen divisions.\r\n   */function EntController(width,height,cellSize){_classCallCheck(this,EntController);this.ship=new __WEBPACK_IMPORTED_MODULE_0__ship_js__[\"a\" /* default */](width,height,cellSize,3);this.bullets=[];this.asteroids=[];this.spawn=1;this.aLimit=10;this.powerups=[];this.width=width;this.height=height;this.cellSize=cellSize;this.wBounds=__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"c\" /* construct */](-this.cellSize/4,this.width+this.cellSize/4);this.hBounds=__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"c\" /* construct */](-this.cellSize/4,this.height+this.cellSize/4);}/** @function createAsteroid\r\n   *  Creates a new asteroid at the edge of the screen.\r\n   *  @return {Asteroid}  The asteroid created.\r\n   */_createClass(EntController,[{key:\"createAsteroid\",value:function createAsteroid(){var pos=void 0,diff=void 0,lvl=void 0;// Place on the borders of the view\nswitch(Math.round(Math.random()*4)){case 0:pos=__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"c\" /* construct */](0,Math.random()*(this.hBounds.y-2));break;case 1:pos=__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"c\" /* construct */](this.width-1,Math.random()*(this.hBounds.y-2));break;case 2:pos=__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"c\" /* construct */](Math.random()*(this.wBounds.y-2),0);break;case 3:default:pos=__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"c\" /* construct */](Math.random()*(this.wBounds.y-2),this.height-1);break;}// Find the vector between the ship and the new asteroid\ndiff=__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"h\" /* sub */](__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"c\" /* construct */](this.ship.pos.x-this.cellSize*2+Math.random()*this.cellSize*4,this.ship.pos.y-this.cellSize*2+Math.random()*this.cellSize*4),pos);// Get a velocity in the general direction of the ship\nvar vel=__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"c\" /* construct */](this.cellSize/100+Math.random()*(this.cellSize/50),Math.atan2(diff.y,diff.x),false);// Determine size class\nlvl=1+Math.round(Math.random()*3);return new __WEBPACK_IMPORTED_MODULE_1__asteroid_js__[\"a\" /* default */](pos,lvl,this.cellSize,vel,-5+Math.random()*10);}/** @function breakAsteroid\r\n   *  Breaks the asteroid into smaller parts or completely.\r\n   *  @param  {Number} j  The index of the asteroid in the list.\r\n   */},{key:\"breakAsteroid\",value:function breakAsteroid(j){var _this=this;var upgrades=[\"life\",\"invincible\",\"normal\",\"rapid\",\"spread\"];var colors=[\"green\",\"white\",\"black\",\"red\",\"blue\"];var score=0;var visual=void 0,sound=void 0,choice=void 0;// Place an explosion effect at the old asteroid\nvisual={type:\"explosion\",data:this.asteroids[j].pos};// If the asteroid is tier 2 or higher degrade it\nif(this.asteroids[j].lvl>1){this.asteroids[j].degrade(this.ship.pos,this.cellSize).forEach(function(subUnit){_this.asteroids.push(subUnit);});// Play a cracking sound\nsound={channel:\"asteroids\",track:\"crack\"};}// Otherwise destroy the asteroid completely\nelse{// If the asteroid contained a prize, place it on the playing area\nif(this.asteroids[j].prz){choice=Math.floor(Math.random()*upgrades.length);this.powerups.push(new __WEBPACK_IMPORTED_MODULE_2__powerup_js__[\"a\" /* default */](this.asteroids[j].pos,this.cellSize/4,upgrades[choice],colors[choice]));}// Play a breaking sound\nsound={channel:\"asteroids\",track:\"break\"};}// Remove asteroid from array\nthis.asteroids.splice(j,1);// Increase score\nscore++;return{score:score,visual:visual,channel:sound.channel,track:sound.track};}},{key:\"render\",value:function render(ctx){this.powerups.forEach(function(powerup){powerup.render(ctx);});this.ship.render(ctx);this.bullets.forEach(function(bullet){bullet.render(ctx);});this.asteroids.forEach(function(asteroid){asteroid.render(ctx);});}},{key:\"restart\",value:function restart(level){this.ship=new __WEBPACK_IMPORTED_MODULE_0__ship_js__[\"a\" /* default */](this.width,this.height,this.cellSize,level?this.ship.lives:3);this.bullets=[];this.asteroids=[];this.spawn=1;this.aLimit=(10+level*5)%50;this.powerups=[];}/** @function update\r\n   *  Updates all the entities on the level.\r\n   *  @return {Array}  The state of the game and all visual and sounds effects generated.\r\n   */},{key:\"update\",value:function update(elapseCounter,score){var _this2=this;var state=\"running\";var sounds=[];var visuals=[];var effects=void 0;// Update ship\nthis.ship.update(this.wBounds,this.hBounds);// Determing if moving\nvar clouds=this.ship.propel();if(clouds.length>0){visuals.push({type:\"clouds\",data:clouds});}// Determine if shooting\nvar bullets=this.ship.shoot(this.cellSize);if(bullets.length>0){this.bullets=this.bullets.concat(bullets);sounds[\"ship\"]=\"shoot\";}// Update asteroid\nthis.asteroids.forEach(function(asteroid){asteroid.update(_this2.wBounds,_this2.hBounds);});// Check for and correct asteroid collisions\nfor(var i=0;i<this.asteroids.length;i++){for(var j=i+1;j<this.asteroids.length;j++){if(__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"f\" /* norm */](__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"h\" /* sub */](this.asteroids[i].pos,this.asteroids[j].pos))<this.asteroids[i].sze+this.asteroids[j].sze){this.asteroids[i].bounce(this.asteroids[j]);sounds[\"asteroids\"]=\"bounce\";}}}// Update powerups\nfor(var pu=0;pu<this.powerups.length;){switch(this.powerups[pu].update(this.ship.pos,this.ship.atm)){case\"life\":this.ship.lives++;this.powerups.splice(pu,1);sounds[\"ui\"]=\"powerup\";break;case\"invincible\":this.ship.inv=300;score++;this.powerups.splice(pu,1);sounds[\"ui\"]=\"powerup\";break;case\"normal\":if(this.ship.fire!==\"normal\")this.ship.fire=\"normal\";score++;this.powerups.splice(pu,1);sounds[\"ui\"]=\"powerup\";break;case\"rapid\":if(this.ship.fire!==\"rapid\")this.ship.fire=\"rapid\";score++;this.powerups.splice(pu,1);sounds[\"ui\"]=\"powerup\";break;case\"spread\":if(this.ship.fire!==\"spread\")this.ship.fire=\"spread\";score++;this.powerups.splice(pu,1);sounds[\"ui\"]=\"powerup\";break;default:pu++;break;}}// Update bullets\nvar _loop=function _loop(b){// If bullet runs off screen, then dispose\nif(_this2.bullets[b]&&!_this2.bullets[b].update(_this2.wBounds,_this2.hBounds))_this2.bullets[b]=null;if(_this2.bullets[b]){// Check if the bullet hit an asteroid\nvar a=_this2.asteroids.findIndex(function(entity){return __WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"f\" /* norm */](__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"h\" /* sub */](entity.pos,_this2.bullets[b].pos))<entity.sze;});// If an asteroid was hit, then break it\nif(a>-1){effects=_this2.breakAsteroid(a);visuals.push(effects.visual);sounds[effects.channel]=effects.track;score=score+effects.score;_this2.bullets[b]=null;}// Otherwise check if the bullet hit the ship\nelse{if(!_this2.ship.inv){if(__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"f\" /* norm */](__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"h\" /* sub */](_this2.ship.pos,_this2.bullets[b].pos))<_this2.ship.atm){// If the ship has more live, continue\nif(_this2.ship.lives>1){_this2.ship=new __WEBPACK_IMPORTED_MODULE_0__ship_js__[\"a\" /* default */](_this2.width,_this2.height,_this2.cellSize,_this2.ship.lives-1);}// Otherwise, game over\nelse{state=\"over\";}sounds[\"ship\"]=\"death\";_this2.bullets[b]=null;}}}}};for(var b=0;b<this.bullets.length;b++){_loop(b);}// Remove bullets that were nullified\nthis.bullets=this.bullets.filter(function(bullet){return bullet;});// Check collisions between asteroids and the ship\nif(!this.ship.inv){for(var _i=0;_i<this.asteroids.length;_i++){if(__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"f\" /* norm */](__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"h\" /* sub */](this.asteroids[_i].pos,this.ship.pos))<this.asteroids[_i].sze+this.ship.atm){// If the ship has more lives, continue\nif(this.ship.lives>1){this.ship=new __WEBPACK_IMPORTED_MODULE_0__ship_js__[\"a\" /* default */](this.width,this.height,this.cellSize,this.ship.lives-1);}// Otherwise, game over\nelse{state=\"over\";}sounds[\"ship\"]=\"death\";}}}if(elapseCounter&&!(elapseCounter%1000)&&this.aLimit<100)this.aLimit++;if(this.spawn<this.aLimit){if(elapseCounter%50===0||this.asteroids.length===0){this.asteroids.push(this.createAsteroid());this.spawn++;}}if(this.asteroids.length===0)state=\"complete\";return{state:state,score:score,visuals:visuals,sounds:sounds};}}]);return EntController;}();/* harmony default export */ __webpack_exports__[\"a\"] = (EntController);\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__bullet_js__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__vector2D_js__ = __webpack_require__(0);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/* ship.js *//** @class Ship\r\n *  The ship that floats through space and fires a laser periodically.\r\n *  @type {Ship}\r\n */var Ship=function(){/** @constructor\r\n   *  Constructs a new space vessel.\r\n   *  @param  {Number} width    The width of the visible screen.\r\n   *  @param  {Number} height   The height of the visible screen.\r\n   *  @param  {Number} cellSize The size of the cells that the screen is split into.\r\n   *  @param  {Number} lives    The number of attempts this ship has left.\r\n   */function Ship(width,height,cellSize,lives){_classCallCheck(this,Ship);this.pos=__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"c\" /* construct */](width/2,height/2);this.ori=270;this.atm=cellSize*(2/5);this.vel=__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"c\" /* construct */](0,0);this.lat=\"na\";this.spd=0;this.maxSpd=cellSize*0.1;this.ang=\"na\";this.trq=0;this.sht=\"na\";this.str=0;this.cld=0;this.fire=\"normal\";this.upgCld=0;this.maxCld=30;this.lives=lives;this.inv=100;this.shoot=this.shoot.bind(this);this.propel=this.propel.bind(this);this.pullInput=this.pullInput.bind(this);this.stopInput=this.stopInput.bind(this);this.render=this.render.bind(this);this.update=this.update.bind(this);}_createClass(Ship,[{key:\"shoot\",value:function shoot(cellSize){var bullets=[];var vel=void 0;switch(this.sht){case\"sht\":if(!this.cld){switch(this.fire){case\"rapid\":vel=__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"c\" /* construct */](this.str*cellSize,this.ori*Math.PI/180,false);bullets.push(new __WEBPACK_IMPORTED_MODULE_0__bullet_js__[\"a\" /* default */](__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"a\" /* add */](this.pos,__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"g\" /* scale */](vel,1.5)),vel,\"red\"));this.cld=Math.floor(this.maxCld*0.75);break;case\"spread\":for(var s=-1;s<2;s++){vel=__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"c\" /* construct */](this.str*cellSize,(this.ori+s*15)*Math.PI/180,false);bullets.push(new __WEBPACK_IMPORTED_MODULE_0__bullet_js__[\"a\" /* default */](__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"a\" /* add */](this.pos,__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"g\" /* scale */](vel,1.5)),vel,\"blue\"));}this.cld=Math.floor(this.maxCld*1.25);break;default:vel=__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"c\" /* construct */](this.str*cellSize,this.ori*Math.PI/180,false);bullets.push(new __WEBPACK_IMPORTED_MODULE_0__bullet_js__[\"a\" /* default */](__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"a\" /* add */](this.pos,__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"g\" /* scale */](vel,1.5)),vel,\"grey\"));this.cld=this.maxCld;break;}}else this.cld--;break;default:if(this.cld)this.cld--;break;}return bullets;}},{key:\"propel\",value:function propel(){var clouds=[];var pos=void 0;switch(this.ang){case\"cw\":pos=__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"c\" /* construct */](this.atm,(this.ori-45)*Math.PI/180,false);clouds.push({pos:__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"a\" /* add */](this.pos,pos),rad:this.atm*0.7,life:10,dens:10,colors:[\"white\"]});break;case\"ccw\":pos=__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"c\" /* construct */](this.atm,(this.ori+45)*Math.PI/180,false);clouds.push({pos:__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"a\" /* add */](this.pos,pos),rad:this.atm*0.7,life:10,dens:10,colors:[\"white\"]});break;default:break;}switch(this.lat){case\"acc\":pos=__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"c\" /* construct */](this.atm+5,(this.ori+(this.spd>0?180:0))*Math.PI/180,false);clouds.push({pos:__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"a\" /* add */](this.pos,pos),rad:this.atm*0.7,life:40,dens:10,colors:[\"white\"]});break;default:break;}return clouds;}/** @function pullInput\r\n   *  Interprets an input command.\r\n   *  @param  {Object} inp  The input signal and its strength.\r\n   */},{key:\"pullInput\",value:function pullInput(inp){switch(inp.sig){case\"cw\":case\"ccw\":this.ang=inp.sig;this.trq=inp.str;break;case\"acc\":this.lat=inp.sig;this.spd=inp.str;break;case\"sht\":this.sht=inp.sig;this.str=inp.str;break;default:break;}}/** @function stopInput\r\n   *  Terminates an input signal if it is the active signal of that class.\r\n   *  @param  {String} inp  The input to stop.\r\n   */},{key:\"stopInput\",value:function stopInput(inp){if(inp===this.ang){this.ang=\"na\";this.trq=0;}else if(inp===this.lat){this.lat=\"na\";this.spd=0;}else if(inp===this.sht){this.sht=\"na\";this.str=0;}}/** @function render\r\n   *  Renders this ship on the screen.\r\n   *  @param  {CanvasContext} ctx The buffer to render on.\r\n   */},{key:\"render\",value:function render(ctx){var disA=-1+Math.round(Math.random()*2);var disB=-1+Math.round(Math.random()*2);// Save the canvas context settings\nctx.save();// Translate the origin to the center of the ship\nctx.translate(this.pos.x,this.pos.y);// Draw the cooldown bar\nctx.fillStyle=\"red\";ctx.fillRect(-this.atm,-this.atm*(3/2),this.atm*2*(this.cld/this.maxCld),2);// Rotate the origin to orient the ship \"up\"\nctx.rotate(this.ori*Math.PI/180);// Draw background atmosphere\nctx.strokeStyle='rgba(0, 255, 255, 0.5)';ctx.fillStyle='rgba(0, 255, 255, 0.1)';ctx.beginPath();ctx.arc(disA,disB,this.atm,0,2*Math.PI,false);ctx.fill();ctx.stroke();// Draw the ship itself\nctx.strokeStyle=\"rgba(255, 255, 255, \"+1*(1-this.inv%20/20)+\")\";ctx.fillStyle='black';ctx.beginPath();ctx.moveTo(this.atm,0);ctx.lineTo(-this.atm*Math.cos(Math.PI/4),-this.atm*Math.sin(Math.PI/4));ctx.lineTo(-this.atm/3,0);ctx.lineTo(-this.atm*Math.cos(Math.PI/4),this.atm*Math.sin(Math.PI/4));ctx.closePath();ctx.fill();ctx.stroke();// Draw foreground atmosphere\nctx.strokeStyle='rgba(0, 255, 255, 0.5)';ctx.fillStyle='rgba(0, 255, 255, 0.1)';ctx.beginPath();ctx.arc(-disA,-disB,this.atm,0,2*Math.PI,false);ctx.fill();ctx.stroke();// Restore the canvas context settings\nctx.restore();}/** @function update\r\n   *  Updates this ship's location, orientation angle, and accessories.\r\n   *  @param  {Vector2D} width  The width extremas.\r\n   *  @param  {Vector2D} height The height extremas.\r\n   */},{key:\"update\",value:function update(width,height){var bullets=[];// Update the spin\nswitch(this.ang){case\"cw\":this.ori=(this.ori+this.trq)%360;break;case\"ccw\":this.ori=(360+this.ori-this.trq)%360;break;default:break;}// Update the velocity\nswitch(this.lat){case\"acc\":this.vel=__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"i\" /* trunc */](__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"a\" /* add */](this.vel,__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"c\" /* construct */](this.spd,this.ori*Math.PI/180,false)),this.maxSpd);break;default:this.vel=__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"g\" /* scale */](this.vel,0.99);break;}// Update the gun cool down\nif(this.cld)this.cld--;// Update the upgrade cool down\nif(this.upgCld>0)this.upgCld--;else if(!this.upgCld){this.fire=\"normal\";this.upgCld=-1;}// Update the position\nthis.pos=__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"k\" /* wrap */](__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"a\" /* add */](this.pos,this.vel),width,height);// Update the invincibity count down\nif(this.inv)this.inv--;return bullets;}}]);return Ship;}();/* harmony default export */ __webpack_exports__[\"a\"] = (Ship);\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__afterGlow_js__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__vector2D_js__ = __webpack_require__(0);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/* bullet.js *//** @class Bullet\r\n *  A laser bullet that can break asteroids.\r\n *  @type {Bullet}\r\n */var Bullet=function(){/** @constructor\r\n   *  Constructs a new bullet at the tip of the ship.\r\n   *  @param  {Vector2D} pos  The position to start this bullet.\r\n   *  @param  {Number} vel    The velocity of this bullet.\r\n   */function Bullet(pos,vel,color){_classCallCheck(this,Bullet);this.pos=pos;this.vel=vel;this.color=color;this.afterglow=[];this.render=this.render.bind(this);this.update=this.update.bind(this);}/** @function render\r\n   *  Renders this bullet and its trail on the buffer.\r\n   *  @param  {CanvasContext} ctx The buffer to render on.\r\n   */_createClass(Bullet,[{key:\"render\",value:function render(ctx){// Render the afterglow of the bullet\nthis.afterglow.forEach(function(glow){glow.render(ctx);});// Save the canvas context settings\nctx.save();// Translate and rotate the origin to the center of the bullet\nctx.translate(this.pos.x,this.pos.y);ctx.rotate(__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"b\" /* angle */](this.vel));// Set stroke style to the color of the bullet\nctx.strokeStyle=this.color;// Begin drawing bullet\nctx.beginPath();ctx.moveTo(-2,-1);ctx.lineTo(2,-1);ctx.arc(2,0,1,Math.PI*1.5,Math.PI*0.5,false);ctx.moveTo(2,1);ctx.lineTo(-2,1);ctx.arc(-2,0,1,Math.PI*0.5,Math.PI*1.5,false);// Finish drawing bullet\nctx.stroke();// Restote the canvas context settings\nctx.restore();}/** @function update\r\n   *  Updates the position of this bullet and its trail.\r\n   *  @param  {Vector2D} width  The width extremas.\r\n   *  @param  {Vector2D} height The height extremas.\r\n   *  @return {Boolean}         Whether or not this bullet has hit the edge of the space.\r\n   */},{key:\"update\",value:function update(width,height){// Update the afterglow\nfor(var j=0;j<this.afterglow.length;j++){if(!this.afterglow[j].update())this.afterglow.splice(j,1);}// Add another afterglow image\nthis.afterglow.push(new __WEBPACK_IMPORTED_MODULE_0__afterGlow_js__[\"a\" /* default */](this.pos,__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"b\" /* angle */](this.vel),Math.round(15*(__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"f\" /* norm */](this.pos)%30+20)/50),this.color));// Update the position of the bullet\nthis.pos=__WEBPACK_IMPORTED_MODULE_1__vector2D_js__[\"a\" /* add */](this.pos,this.vel);// Return whether or not the bullet has reached the edge of the screen\nreturn!(this.pos.x<width.x||this.pos.x>width.y||this.pos.y<height.x||this.pos.y>height.y);}}]);return Bullet;}();/* harmony default export */ __webpack_exports__[\"a\"] = (Bullet);\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/* afterGlow.js *//** @class AfterGlow\r\n *  A laser afterglow particle.\r\n *  @type {AfterGlow}\r\n */var AfterGlow=function(){/** @constructor\r\n   *  Constructs a new \"afterglow\" visual effect.\r\n   *  @param  {Object} pos    The position for the afterglow.\r\n   *  @param  {Number}   ang    The angle of orientation for the afterglow.\r\n   *  @param  {Number}   life   The duration that the afterglow will appear on screen.\r\n   *  @param  {String}   color  The color of the afterglow.\r\n   */function AfterGlow(pos,ang,life,color){_classCallCheck(this,AfterGlow);this.pos=pos;this.ang=ang;this.life=life;this.maxLife=life;this.color=color;this.render=this.render.bind(this);this.update=this.update.bind(this);}/** @function render\r\n   *  Renders the afterglow effect on the buffer.\r\n   *  @param  {CanvasContext} ctx   The buffer to render on.\r\n   */_createClass(AfterGlow,[{key:\"render\",value:function render(ctx){var per=this.life/this.maxLife;// Save the canvas context settings\nctx.save();// Translate and rotate the origin to the center of the afterglow\nctx.translate(this.pos.x,this.pos.y);ctx.rotate(this.ang);// Set the stroke color to the saved color\nctx.strokeStyle=this.color;// Begin drawing the afterglow outline\nctx.beginPath();ctx.moveTo(-2*per,-1*per);ctx.lineTo(2*per,-1*per);ctx.arc(2*per,0,1*per,Math.PI*1.5,Math.PI*0.5,false);ctx.moveTo(2*per,1*per);ctx.lineTo(-2*per,1*per);ctx.arc(-2*per,0,1*per,Math.PI*0.5,Math.PI*1.5,false);// Finish drawing the afterglow\nctx.stroke();// Restore the canvas context settings\nctx.restore();}/** @function update\r\n   *  Decrements the duration of this afterglow.\r\n   *  @return {Boolean}    True if the afterglow remains, false if it 'dies'.\r\n   */},{key:\"update\",value:function update(){this.life--;return this.life;}}]);return AfterGlow;}();/* harmony default export */ __webpack_exports__[\"a\"] = (AfterGlow);\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__vector2D_js__ = __webpack_require__(0);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/* asteroid.js *//** @class Asteroid\r\n *  The destructable asteroid obstacles in the space of the game.\r\n *  @type {Asteroid}\r\n */var Asteroid=function(){/** @constructor\r\n   *  Constructs a new asteroid.\r\n   *  @param  {Obect}  pos      The position to spawn the asteroid.\r\n   *  @param  {Number} lvl      The size class of this asteroid.\r\n   *  @param  {Number} cellSize The size of the screen divisions.\r\n   *  @param  {Number} vel      The velocity of the asteroid.\r\n   *  @param  {Number} spn      The torque of the asteroid.\r\n   */function Asteroid(pos,lvl,cellSize,vel,spn){_classCallCheck(this,Asteroid);this.pos=pos;this.ort=Math.random()*360;this.vel=vel;this.spn=spn;this.lvl=lvl;this.sze=lvl/5*cellSize+cellSize/5;this.sur=[];this.prz=lvl===1&&Math.random()<0.09;this.createSurface();this.bounce=this.bounce.bind(this);this.createSurface=this.createSurface.bind(this);this.degrade=this.degrade.bind(this);this.render=this.render.bind(this);this.update=this.update.bind(this);}/** @function bounce\r\n   *  Calculates the new traectory and postion of this and another asteroid after a collision.\r\n   *  @param  {Asteroid} ast The other asteroid to bounce off of.\r\n   */_createClass(Asteroid,[{key:'bounce',value:function bounce(ast){var v1=this.vel,v2=ast.vel,d1=__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"h\" /* sub */](this.pos,ast.pos),d2=__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"e\" /* negate */](d1);// Correct the velosity of this asteroid\nthis.vel=__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"h\" /* sub */](v1,__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"g\" /* scale */](d1,2*ast.sze/(this.sze+ast.sze)*__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"d\" /* dot */](__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"h\" /* sub */](v1,v2),d1)/__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"d\" /* dot */](d1,d1)));// Correct the velocity of the other asteroid\nast.vel=__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"h\" /* sub */](v2,__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"g\" /* scale */](d2,2*this.sze/(this.sze+ast.sze)*__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"d\" /* dot */](__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"h\" /* sub */](v2,v1),d2)/__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"d\" /* dot */](d2,d2)));// Correct the positions of both asteroids so they are no longer colliding\nthis.pos=__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"a\" /* add */](this.pos,__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"g\" /* scale */](__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"h\" /* sub */](__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"g\" /* scale */](d1,(this.sze+ast.sze)/__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"f\" /* norm */](d1)),d1),0.5));ast.pos=__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"a\" /* add */](ast.pos,__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"g\" /* scale */](__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"h\" /* sub */](__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"g\" /* scale */](d2,(this.sze+ast.sze)/__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"f\" /* norm */](d2)),d2),0.5));}/** @function createSurface\r\n   *  Creates the uneven surface of this asteroid.\r\n   */},{key:'createSurface',value:function createSurface(){var t=0,r=this.sze*0.5+Math.random()*(this.sze*0.5),newR;// Going the circumference of the asteroid\nwhile(t<360){// find a new acceptable point\ndo{newR=r;var probability=Math.random();// Determine of the next point will be lower of higher\nif(probability<0.50)newR-=this.sze*0.05+Math.random()*(this.sze*0.1);else if(probability<1.00)newR+=this.sze*0.05+Math.random()*(this.sze*0.1);}while(this.sze<newR||newR<this.sze*0.5);// Update the current point\nr=newR;// Add to the list\nthis.sur.push({x:r*Math.cos(t*Math.PI/180),y:r*Math.sin(t*Math.PI/180)});// Advance along the circumference\nt+=Math.min(5+Math.random()*40,360-t);}}/** @function degrade\r\n   *  Degrades this asteroid into smaller chuncks.\r\n   *  @param  {Object} center     The location of the bullet to determine angle of collision.\r\n   *  @param  {Number} cellSize   The size of the screen divisions.\r\n   *  @return {Array}             The list of new asteroids created after degredation.\r\n   */},{key:'degrade',value:function degrade(center,cellSize){// Predetermine sizes of the subunits\nvar subLevels=[],lvl=this.lvl,sLvl=void 0;// Determine what the new sizes will be\nwhile(lvl>0){sLvl=1+Math.round(Math.random()*(lvl-1-(subLevels.length===0?1:0)));subLevels.push(sLvl);lvl-=sLvl;}// Create an asteroid for each of the subunits\nvar subUnits=[],angleBase=(__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"b\" /* angle */](__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"h\" /* sub */](this.pos,center))*180/Math.PI+90)%360,angle=void 0,radius=void 0,offset=void 0;for(var i=0;i<subLevels.length;i++){sLvl=subLevels[i];angle=(angleBase+i/subLevels.length*360)%360;radius=cellSize/2+sLvl*cellSize/10;offset=__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"c\" /* construct */](radius,angle*Math.PI/180,false);// Add the new asteroid to the list of asteroids\nsubUnits.push(new Asteroid(__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"a\" /* add */](this.pos,offset),sLvl,cellSize,__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"a\" /* add */](__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"g\" /* scale */](this.vel,0.5+0.2*(sLvl/3)),__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"g\" /* scale */](__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"j\" /* unit */](offset),cellSize/100+Math.random()*cellSize/60)),-10+Math.random()*20));}return subUnits;}/** @function render\r\n   *  Renders this asteroid onto the buffer.\r\n   *  @param  {CanvasContext} ctx The buffer to render on.\r\n   */},{key:'render',value:function render(ctx){var disA=-3+Math.round(Math.random()*6);var disB=-3+Math.round(Math.random()*6);// Save the canvas context settings\nctx.save();// Translate and rotate the origin to the center of this asteroid\nctx.translate(this.pos.x,this.pos.y);ctx.rotate(this.ort*Math.PI/180);// Draw background atmospheres\nctx.strokeStyle=this.prz?'rgba(0, 255, 255, 0.5)':'rgba(128, 0, 255, 0.5)';ctx.fillStyle=this.prz?'rgba(0, 255, 255, 0.2)':'rgba(128, 0, 255, 0.2)';ctx.beginPath();ctx.arc(disA,disB,this.sze,0,2*Math.PI,false);ctx.fill();ctx.stroke();// Draw the surface of the asteroid\nctx.strokeStyle=this.prz?'yellow':'white';ctx.fillStyle='black';ctx.beginPath();ctx.moveTo(this.sur[0].x,this.sur[0].y);for(var i=1;i<this.sur.length;i++){ctx.lineTo(this.sur[i].x,this.sur[i].y);}ctx.closePath();ctx.fill();ctx.stroke();// Draw the foreground atmospheres\nctx.strokeStyle=this.prz?'rgba(255, 0, 255, 0.5)':'rgba(0, 255, 0, 0.5)';ctx.fillStyle=this.prz?'rgba(255, 0, 255, 0.15)':'rgba(0, 255, 0, 0.15)';ctx.beginPath();ctx.arc(-disA,-disB,this.sze,0,2*Math.PI,false);ctx.fill();ctx.stroke();// Restore the canvas context settings\nctx.restore();}/** @function update\r\n   *  Updates this asteroids position, orientation angle.\r\n   *  @param  {Vector2D} width  The width extremas.\r\n   *  @param  {Vector2D} height The height extremas.\r\n   */},{key:'update',value:function update(width,height){// Update the position of the asteroid\nthis.pos=__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"k\" /* wrap */](__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"a\" /* add */](this.pos,this.vel),width,height);// Update the orientation of the asteroid\nthis.ort=(this.ort+this.spn)%360;}}]);return Asteroid;}();/* harmony default export */ __webpack_exports__[\"a\"] = (Asteroid);\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__vector2D_js__ = __webpack_require__(0);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/* pickup.js *//** @class Powerup\r\n *  Upgrades that can be picked up from the field.\r\n *  @type {Powerup}\r\n */var Powerup=function(){/** @constructor\r\n   *  Construct a new instance of a powerup\r\n   *  @param {Object} pos   The position of the powerup.\r\n   *  @param {Number} rad   The radius of the powerup.\r\n   *  @param {String} tag   The type of powerup.\r\n   *  @param {String} color The color of the powerup.\r\n   */function Powerup(pos,rad,tag,color){_classCallCheck(this,Powerup);this.pos=pos;this.rad=rad;this.tag=tag;this.color=color;this.render=this.render.bind(this);this.update=this.update.bind(this);}/** @function render\r\n   *  Renders the pickup on the buffer.\r\n   *  @param  {CanvasContext} ctx   The buffer to render on.\r\n   */_createClass(Powerup,[{key:\"render\",value:function render(ctx){// Save the canvas context settings\nctx.save();// Set the fill color to the color of this powerup\nctx.fillStyle=this.color;// Begin drawing the powerup\nctx.beginPath();ctx.arc(this.pos.x,this.pos.y,this.rad,0,2*Math.PI,false);// Finish drawing the powerup\nctx.fill();// Reserve the canvas context settings\nctx.restore();}/** @function update\r\n   *  Determine if the pickup has been picked up.\r\n   *  @return {Boolean}    The tag of the pickup or null.\r\n   */},{key:\"update\",value:function update(pos,l){if(__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"f\" /* norm */](__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"h\" /* sub */](pos,this.pos))<this.rad+l)return this.tag;}}]);return Powerup;}();/* harmony default export */ __webpack_exports__[\"a\"] = (Powerup);\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__twinkle_js__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__explosion_js__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__cloud_js__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__vector2D_js__ = __webpack_require__(0);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/* vfxController.js *//** @class VFXController\r\n *  The controller for visual effects of the game.\r\n *  @type {VFXController}\r\n */var VFXController=function(){/** @constructor\r\n   *  Constructs a new effects controller.\r\n   *  @param  {Number} width      The width of the visible screen.\r\n   *  @param  {Number} height     The height of the visible screen.\r\n   *  @param  {Number} cellSize   The size of the screen divisions.\r\n   */function VFXController(width,height,cellSize){_classCallCheck(this,VFXController);this.width=width;this.height=height;this.cellSize=cellSize;this.explosions=[];this.clouds=[];this.twinkles=[];// Generate the sky\nfor(var i=0;i<10;i++){this.twinkles.push(new __WEBPACK_IMPORTED_MODULE_0__twinkle_js__[\"a\" /* default */](__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"c\" /* construct */](Math.random()*width,Math.random()*height),(1+Math.random()*1)*cellSize/10,40+Math.round(Math.random()*20)));}// Bind this to the methods\nthis.cloud=this.cloud.bind(this);this.explosion=this.explosion.bind(this);this.render=this.render.bind(this);this.restart=this.restart.bind(this);this.update=this.update.bind(this);}/** @function cloud\r\n   *  Spawns a new cloud effect.\r\n   *  @param  {Object} data Data about position, radius, duration, density, and colors of the cloud.\r\n   */_createClass(VFXController,[{key:\"cloud\",value:function cloud(data){this.clouds.push(new __WEBPACK_IMPORTED_MODULE_2__cloud_js__[\"a\" /* default */](data.pos,data.rad,data.life,data.dens,data.colors));}/** @function explosion\r\n   *  Creates an explosion effect.\r\n   *  @param  {Object} pos The position of the explosion.\r\n   */},{key:\"explosion\",value:function explosion(pos){this.explosions.push(new __WEBPACK_IMPORTED_MODULE_1__explosion_js__[\"a\" /* default */](pos,Math.random()*2*Math.PI,10));this.clouds.push(new __WEBPACK_IMPORTED_MODULE_2__cloud_js__[\"a\" /* default */](pos,this.cellSize,40,20,[\"white\",\"purple\",\"green\"]));}/** @function render\r\n   *  Renders all visual effects on the buffer.\r\n   *  @param  {CanvasContext} ctx The canvas back buffer.\r\n   */},{key:\"render\",value:function render(ctx){// Render twinkles\nthis.twinkles.forEach(function(twinkle){twinkle.render(ctx);});// Render explosions\nthis.explosions.forEach(function(explosion){explosion.render(ctx);});// Render clouds\nthis.clouds.forEach(function(cloud){cloud.render(ctx);});}/** @function restart\r\n   *  Clears all the visual effects.\r\n   */},{key:\"restart\",value:function restart(){this.explosions=[];this.clouds=[];this.twinkles=[];this.trails=[];// Generate the sky\nfor(var i=0;i<10;i++){this.twinkles.push(new __WEBPACK_IMPORTED_MODULE_0__twinkle_js__[\"a\" /* default */](__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"c\" /* construct */](Math.random()*this.width,Math.random()*this.height),(1+Math.random()*1)*this.cellSize/10,40+Math.round(Math.random()*20)));}}/** @function update\r\n   *  Updates all the visual effects.\r\n   */},{key:\"update\",value:function update(){// Update twinkles\nfor(var i=0;i<this.twinkles.length;i++){if(!this.twinkles[i].update()){this.twinkles[i]=new __WEBPACK_IMPORTED_MODULE_0__twinkle_js__[\"a\" /* default */](__WEBPACK_IMPORTED_MODULE_3__vector2D_js__[\"c\" /* construct */](Math.random()*this.width,Math.random()*this.height),(1+Math.random()*1)*this.cellSize/10,40+Math.round(Math.random()*20));}}// Update explosions\nfor(var _i=0;_i<this.explosions.length;_i++){if(!this.explosions[_i].update()){this.explosions.splice(_i,1);_i--;}}// Update clouds\nfor(var _i2=0;_i2<this.clouds.length;_i2++){if(!this.clouds[_i2].update()){this.clouds.splice(_i2,1);_i2--;}}}}]);return VFXController;}();/* harmony default export */ __webpack_exports__[\"a\"] = (VFXController);\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/* twinkle.js *//** @class Twinkle\r\n *  A twinkling star visual effect.\r\n *  @type {Twinkle}\r\n */var Twinkle=function(){/** @constructor\r\n   *  Constructs a new 'twinkle' visual effect.\r\n   *  @param  {Object} pos  The position of the twinkle.\r\n   *  @param  {Number} size The size of the the twinkle.\r\n   *  @param  {Number} life The duration of the twinkle.\r\n   */function Twinkle(pos,size,life){_classCallCheck(this,Twinkle);this.pos=pos;this.life=life;this.maxLife=life;this.size=size;this.render=this.render.bind(this);this.update=this.update.bind(this);}/** @function render\r\n   *  Renders the twinkle on the buffer.\r\n   *  @param  {CanvasContext} ctx The buffer to render on.\r\n   */_createClass(Twinkle,[{key:\"render\",value:function render(ctx){var length=this.life/this.maxLife*this.size;// Save the canvas context settings\nctx.save();// Set fill style to white\nctx.fillStyle=\"white\";// Draw twinkle on background\nctx.fillRect(this.pos.x-length/2,this.pos.y-length/2,length,length);// Restore the canvas context settings\nctx.restore();}/** @function update\r\n   *  Decrement the duration of this twinkle.\r\n   *  @return {Boolean}   True if this twinkle remains, false if it 'dies'.\r\n   */},{key:\"update\",value:function update(){this.life--;return this.life;}}]);return Twinkle;}();/* harmony default export */ __webpack_exports__[\"a\"] = (Twinkle);\n\n/***/ }),\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__vector2D_js__ = __webpack_require__(0);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/* explosion.js *//** @class Explosion\r\n *  An explosion with a variable number of arms.\r\n *  @type {Explosion}\r\n */var Explosion=function(){/** @constructor\r\n   *  Constructs a new explosion visual effect.\r\n   *  @param  {Object}   pos  The position of the explosion.\r\n   *  @param  {Number}   ang  The angle of orientation for the explosion.\r\n   *  @param  {Number}   life The duration that the explosion will appear on screen.\r\n   */function Explosion(pos,ang,life){_classCallCheck(this,Explosion);this.pos=pos;this.ang=ang;this.bra=5+Math.round(Math.random()*5);this.life=life;this.maxLife=life;this.render=this.render.bind(this);this.update=this.update.bind(this);}/** @function render\r\n   *  Renders the explosion effect on the buffer.\r\n   *  @param  {CanvasContext} ctx   The buffer to render on.\r\n   */_createClass(Explosion,[{key:\"render\",value:function render(ctx){var ang=void 0,pos=void 0;// Save the canvas context settings\nctx.save();// Translate and rotate the origin to the location of the explosion\nctx.translate(this.pos.x,this.pos.y);ctx.rotate(this.ang);// Set stroke color to a transparent white\nctx.strokeStyle='rgba(255, 255, 255, 0.75)';// Begin drawing explosion\nctx.beginPath();// Draw each\nfor(var j=0;j<this.bra;j++){// Determine the angle of the branch\nang=j/this.bra*2*Math.PI;// Move to starting position of the branch\npos=__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"c\" /* construct */](3,ang,false);ctx.moveTo(pos.x,pos.y);// Draw to ending position of the branch\npos=__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"c\" /* construct */](3+(this.maxLife-this.life)/this.maxLife*9,ang,false);ctx.lineTo(pos.x,pos.y);}// Finish drawing explosion\nctx.stroke();// Restore the canvas context settings\nctx.restore();}/** @function update\r\n   *  Decrements the duration of this explosion.\r\n   *  @return {Boolean}    True if the explosion remains, false if it 'dies'.\r\n   */},{key:\"update\",value:function update(){this.life--;return this.life;}}]);return Explosion;}();/* harmony default export */ __webpack_exports__[\"a\"] = (Explosion);\n\n/***/ }),\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__vector2D_js__ = __webpack_require__(0);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/* cloud.js *//** @class Cloud\r\n *  A dust cloud visual effect.\r\n *  @type {Cloud}\r\n */var Cloud=function(){/** @constructor\r\n   *  Constructs a new 'cloud' visual effect.\r\n   *  @param  {Object} pos    The position of the cloud.\r\n   *  @param  {Number} rad    The radius of the the cloud.\r\n   *  @param  {Number} life   The duration of the cloud.\r\n   *  @param  {Array}  colors The colors of the cloud.\r\n   */function Cloud(pos,rad,life,dens,colors){_classCallCheck(this,Cloud);this.pos=pos;this.colors=colors;this.dens=dens;this.life=life;this.maxLife=life;this.rad=rad;this.render=this.render.bind(this);this.update=this.update.bind(this);}/** @function render\r\n   *  Renders the cloud on the buffer.\r\n   *  @param  {CanvasContext} ctx The buffer to render on.\r\n   */_createClass(Cloud,[{key:\"render\",value:function render(ctx){var length=this.life/this.maxLife*this.rad;var density=this.life/this.maxLife*this.dens;var pPos=__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"c\" /* construct */](0,0);// Save canvas settings\nctx.save();// Translate origin to cloud center\nctx.translate(this.pos.x,this.pos.y);// Fill clouds with particles\nfor(var p=0;p<density;p++){// Set fill color to a random color\nctx.fillStyle=this.colors[Math.floor(Math.random()*this.colors.length)];// Place the particle in a random place in the circle\npPos=__WEBPACK_IMPORTED_MODULE_0__vector2D_js__[\"c\" /* construct */](length*0.1+Math.random()*length*0.9,Math.random()*2*Math.PI,false);// Draw particle\nctx.fillRect(pPos.x,pPos.y,1,1);}// Restore canvas settings\nctx.restore();}/** @function update\r\n   *  Decrement the duration of this twinkle.\r\n   *  @return {Boolean}   True if this twinkle remains, false if it 'dies'.\r\n   */},{key:\"update\",value:function update(){this.life--;return this.life;}}]);return Cloud;}();/* harmony default export */ __webpack_exports__[\"a\"] = (Cloud);\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__beep_wav__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__beep_wav___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__beep_wav__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__powerup_wav__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__powerup_wav___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__powerup_wav__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__thruster_wav__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__thruster_wav___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__thruster_wav__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shoot_wav__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shoot_wav___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__shoot_wav__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__death_wav__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__death_wav___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__death_wav__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bounce_wav__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bounce_wav___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__bounce_wav__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__crack_wav__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__crack_wav___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__crack_wav__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__break_wav__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__break_wav___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__break_wav__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/* sfxController.js *//** @class SFXController\r\n *  The controller for the sound effects of the game.\r\n *  @type {SFXController}\r\n */var SFXController=function(){/** @constructor\r\n   *  Constructs a sound constroller with all the imported sound effects.\r\n   */function SFXController(){_classCallCheck(this,SFXController);// Create channels\nthis.channels={\"ui\":document.createElement(\"audio\"),\"ship\":document.createElement(\"audio\"),\"asteroids\":document.createElement(\"audio\")};// Append to the webpage\ndocument.body.appendChild(this.channels[\"ui\"]);document.body.appendChild(this.channels[\"ship\"]);document.body.appendChild(this.channels[\"asteroids\"]);// Create track list\nthis.tracks={\"beep\":__WEBPACK_IMPORTED_MODULE_0__beep_wav___default.a,\"powerup\":__WEBPACK_IMPORTED_MODULE_1__powerup_wav___default.a,\"thruster\":__WEBPACK_IMPORTED_MODULE_2__thruster_wav___default.a,\"shoot\":__WEBPACK_IMPORTED_MODULE_3__shoot_wav___default.a,\"death\":__WEBPACK_IMPORTED_MODULE_4__death_wav___default.a,\"bounce\":__WEBPACK_IMPORTED_MODULE_5__bounce_wav___default.a,\"crack\":__WEBPACK_IMPORTED_MODULE_6__crack_wav___default.a,\"break\":__WEBPACK_IMPORTED_MODULE_7__break_wav___default.a};this.play=this.play.bind(this);this.pause=this.pause.bind(this);}/** @function play\r\n   *  Plays the specified sound effect from the beginning.\r\n   *  @param  {String} channel  The channel to play on.\r\n   *  @param  {String} track    The sound to play.\r\n   */_createClass(SFXController,[{key:\"play\",value:function play(channel,track){channel=this.channels[channel];track=this.tracks[track];// Change the track and play\nif(!channel.paused)channel.pause();if(channel.src!==track){channel.src=track;channel.currentTime=0;}channel.play();}/** @function pause\r\n   *  Pauses the current sound playing.\r\n   *  @param  {String}  channel The channel (or all channels) to pause.\r\n   */},{key:\"pause\",value:function pause(channel){if(channel===\"all\"){for(var chan in this.channels){this.channels[chan].pause();}}else this.channels[channel].pause();}}]);return SFXController;}();/* harmony default export */ __webpack_exports__[\"a\"] = (SFXController);\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/beep.c849949d.wav\";\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/powerup.816baf0c.wav\";\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/thruster.c5c8d28a.wav\";\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/shoot.49a55ad9.wav\";\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/death.15ac48cd.wav\";\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/bounce.077fdc4a.wav\";\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/crack.810a2fb0.wav\";\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/break.c3be409a.wav\";\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// static/js/main.68d5c29c.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/asteroid/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a5e5d217e32b69a1d856","/* vector2D.js */\r\n\r\n/** @function construct\r\n *  Constructs a new 2D vector using either coordinates or magnitude and angle.\r\n *  @param  {Number}   a         The x coordinate or the magnitude.\r\n *  @param  {Number}   b         The y coordinate or the angle.\r\n *  @param  {Boolean}  coord     Whether to use coordinates (true) or magnitude and angle (false).\r\n *  @return {Object}             The 2D vector containing the provided data.\r\n */\r\nexport function construct(a, b, coord = true) {\r\n  return {\r\n    x: coord ? a : a * Math.cos(b),\r\n    y: coord ? b : a * Math.sin(b)\r\n  };\r\n}\r\n\r\n/** @function add\r\n *  Adds two vectors together.\r\n *  @param  {Object}  a   The left operand vector.\r\n *  @param  {Object}  b   The right operand vector.\r\n *  @return {Object}      The result of the addition.\r\n */\r\nexport function add(a, b) {\r\n  return { x: a.x + b.x, y: a.y + b.y };\r\n}\r\n\r\n/** @function angle\r\n *  Finds the angle of a vector.\r\n *  @param {Object} a   The vector to negate.\r\n *  @return {Number}    The angle, in radians, to rotate the vector.\r\n */\r\nexport function angle(a) {\r\n  return Math.atan2(a.y, a.x);\r\n}\r\n\r\n/** @function dot\r\n *  Sums the products of the individual units of two vectors.\r\n *  @param  {Object} a   The left operand vector.\r\n *  @param  {Object} b   The right operand vector.\r\n *  @return {Number}       The dot product of this and another vector.\r\n */\r\nexport function dot(a, b) {\r\n  return a.x * b.x + a.y * b.y;\r\n}\r\n\r\n/** @function negate\r\n *  Negates the units of this vector.\r\n *  @param  {Object} a   The vector to negate.\r\n *  @return {Object}     The negated vector.\r\n */\r\nexport function negate(a) {\r\n  return { x: -a.x, y: -a.y };\r\n}\r\n\r\n/** @function norm\r\n *  Finds the magnitude of this vector.\r\n *  @param  {Object} a   The vector to normalize.\r\n *  @return {Number}     The magnitude of this vector.\r\n */\r\nexport function norm(a) {\r\n  return Math.sqrt(a.x ** 2 + a.y ** 2);\r\n}\r\n\r\n/** @function pow\r\n *  Performs an exponential operation on each unit of a vector.\r\n *  @param  {Object}   a   The left operand vector.\r\n *  @param  {Number}   p   The exponential value.\r\n *  @return {Object}       The result of the operation.\r\n */\r\nexport function pow(a, p) {\r\n  return { x: a.x ** p, y: a.y ** p };\r\n}\r\n\r\n/** @function rotate\r\n *  Rotates a vector about the origin.\r\n *  @param  {Object}    a       The vector to rotate.\r\n *  @param  {Number}    theta   The angle, in radians, to rotate by.\r\n *  @return {Object}            The result of rotating this vector.\r\n */\r\nexport function rotate(a, theta) {\r\n  return {\r\n    x: Math.cos(theta) * a.x - Math.sin(theta) * a.y,\r\n    y: Math.sin(theta) * a.x + Math.cos(theta) * a.y\r\n  };\r\n}\r\n\r\n/** @function scale\r\n *  Scale a vector by a constant.\r\n *  @param  {Object}   a   The left operand vecotr.\r\n *  @param  {Number}   s   The scaler amount.\r\n *  @return {Vector2D}     The result of scaling the vector.\r\n */\r\nexport function scale(a, s) {\r\n  return { x: a.x * s, y: a.y * s };\r\n}\r\n\r\n/** @function sub\r\n *  Subtracts one vector from another.\r\n *  @param  {Object}   a   The left operand vecotr.\r\n *  @param  {Object}   b   The right operand vector.\r\n *  @return {Object}       The result of the subtraction.\r\n */\r\nexport function sub(a, b) {\r\n  return { x: a.x - b.x, y: a.y - b.y };\r\n}\r\n\r\n/** @function trim\r\n *  Trims the magnitude of this vector to a certain max value.\r\n *  @param  {Object} a   The vector to trim.\r\n *  @param  {Number} b   The max value the magnitude should be.\r\n *  @return {Object}     The result of attempting to trim the vector.\r\n */\r\nexport function trunc(a, m) {\r\n  var nrm = Math.sqrt(a.x ** 2 + a.y ** 2);\r\n  if (nrm > m)\r\n    return { x: a.x * m / nrm, y: a.y * m / nrm };\r\n  else return a;\r\n}\r\n\r\n/** @function unit\r\n *  Transforms this vector into a unit vector.\r\n *  @param  {Object} a    The vector to make unit length.\r\n *  @return {Object}      The result of scaling the vector to unit length.\r\n */\r\nexport function unit(a) {\r\n  var nrm = Math.sqrt(a.x ** 2 + a.y ** 2);\r\n  return { x: a.x / nrm, y: a.y / nrm };\r\n}\r\n\r\n/** @function wrap\r\n *  Clamps this vector to be between the values specified in two other vectors.\r\n *  @param  {Object} a   The vector to wrap.\r\n *  @param  {Object} w   The vector containing the max and min values for the x coordinate.\r\n *  @param  {Object} h   The vector containing the max and min values for the y coordinate.\r\n *  @return {Object}     The wrapped vector.\r\n */\r\nexport function wrap(a, w, h) {\r\n  return {\r\n    x: (w.y + a.x - 2 * w.x) % (w.y - w.x) + w.x,\r\n    y: (h.y + a.y - 2 * h.x) % (h.y - h.x) + h.x\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vector2D.js","'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('Promise constructor\\'s argument is not a function');\n  }\n  this._75 = 0;\n  this._83 = 0;\n  this._18 = null;\n  this._38 = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._47 = null;\nPromise._71 = null;\nPromise._44 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n}\nfunction handle(self, deferred) {\n  while (self._83 === 3) {\n    self = self._18;\n  }\n  if (Promise._47) {\n    Promise._47(self);\n  }\n  if (self._83 === 0) {\n    if (self._75 === 0) {\n      self._75 = 1;\n      self._38 = deferred;\n      return;\n    }\n    if (self._75 === 1) {\n      self._75 = 2;\n      self._38 = [self._38, deferred];\n      return;\n    }\n    self._38.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._83 === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._83 === 1) {\n        resolve(deferred.promise, self._18);\n      } else {\n        reject(deferred.promise, self._18);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._18);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._83 = 3;\n      self._18 = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._83 = 1;\n  self._18 = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._83 = 2;\n  self._18 = newValue;\n  if (Promise._71) {\n    Promise._71(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._75 === 1) {\n    handle(self, self._38);\n    self._38 = null;\n  }\n  if (self._75 === 2) {\n    for (var i = 0; i < self._38.length; i++) {\n      handle(self, self._38[i]);\n    }\n    self._38 = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  });\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-scripts/node_modules/promise/lib/core.js\n// module id = 1\n// module chunks = 0","// @remove-on-eject-begin\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n// @remove-on-eject-end\n'use strict';\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  window.Promise = require('promise/lib/es6-extensions.js');\n}\n\n// fetch() polyfill for making API calls.\nrequire('whatwg-fetch');\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = require('object-assign');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-scripts/config/polyfills.js\n// module id = 3\n// module chunks = 0","'use strict';\n\nvar Promise = require('./core');\n\nvar DEFAULT_WHITELIST = [\n  ReferenceError,\n  TypeError,\n  RangeError\n];\n\nvar enabled = false;\nexports.disable = disable;\nfunction disable() {\n  enabled = false;\n  Promise._47 = null;\n  Promise._71 = null;\n}\n\nexports.enable = enable;\nfunction enable(options) {\n  options = options || {};\n  if (enabled) disable();\n  enabled = true;\n  var id = 0;\n  var displayId = 0;\n  var rejections = {};\n  Promise._47 = function (promise) {\n    if (\n      promise._83 === 2 && // IS REJECTED\n      rejections[promise._56]\n    ) {\n      if (rejections[promise._56].logged) {\n        onHandled(promise._56);\n      } else {\n        clearTimeout(rejections[promise._56].timeout);\n      }\n      delete rejections[promise._56];\n    }\n  };\n  Promise._71 = function (promise, err) {\n    if (promise._75 === 0) { // not yet handled\n      promise._56 = id++;\n      rejections[promise._56] = {\n        displayId: null,\n        error: err,\n        timeout: setTimeout(\n          onUnhandled.bind(null, promise._56),\n          // For reference errors and type errors, this almost always\n          // means the programmer made a mistake, so log them after just\n          // 100ms\n          // otherwise, wait 2 seconds to see if they get handled\n          matchWhitelist(err, DEFAULT_WHITELIST)\n            ? 100\n            : 2000\n        ),\n        logged: false\n      };\n    }\n  };\n  function onUnhandled(id) {\n    if (\n      options.allRejections ||\n      matchWhitelist(\n        rejections[id].error,\n        options.whitelist || DEFAULT_WHITELIST\n      )\n    ) {\n      rejections[id].displayId = displayId++;\n      if (options.onUnhandled) {\n        rejections[id].logged = true;\n        options.onUnhandled(\n          rejections[id].displayId,\n          rejections[id].error\n        );\n      } else {\n        rejections[id].logged = true;\n        logError(\n          rejections[id].displayId,\n          rejections[id].error\n        );\n      }\n    }\n  }\n  function onHandled(id) {\n    if (rejections[id].logged) {\n      if (options.onHandled) {\n        options.onHandled(rejections[id].displayId, rejections[id].error);\n      } else if (!rejections[id].onUnhandled) {\n        console.warn(\n          'Promise Rejection Handled (id: ' + rejections[id].displayId + '):'\n        );\n        console.warn(\n          '  This means you can ignore any previous messages of the form \"Possible Unhandled Promise Rejection\" with id ' +\n          rejections[id].displayId + '.'\n        );\n      }\n    }\n  }\n}\n\nfunction logError(id, error) {\n  console.warn('Possible Unhandled Promise Rejection (id: ' + id + '):');\n  var errStr = (error && (error.stack || error)) + '';\n  errStr.split('\\n').forEach(function (line) {\n    console.warn('  ' + line);\n  });\n}\n\nfunction matchWhitelist(error, list) {\n  return list.some(function (cls) {\n    return error instanceof cls;\n  });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-scripts/node_modules/promise/lib/rejection-tracking.js\n// module id = 4\n// module chunks = 0","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/asap/browser-raw.js\n// module id = 5\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 6\n// module chunks = 0","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._44);\n  p._83 = 1;\n  p._18 = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nPromise.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._83 === 3) {\n            val = val._18;\n          }\n          if (val._83 === 1) return res(i, val._18);\n          if (val._83 === 2) reject(val._18);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-scripts/node_modules/promise/lib/es6-extensions.js\n// module id = 7\n// module chunks = 0","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/whatwg-fetch/fetch.js\n// module id = 8\n// module chunks = 0","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/object-assign/index.js\n// module id = 9\n// module chunks = 0","import \"./index.css\";\nimport Game from \"./game.js\";\n\nlet length = Math.min(window.innerWidth, window.innerHeight);\nnew Game(length / 2.5, length / 2.5, length / 40);\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/* game.js */\r\nimport EntController from \"./entities/entController.js\";\r\nimport VFXController from \"./visuals/vfxController.js\";\r\nimport SFXController from \"./sounds/sfxController.js\";\r\nimport * as Vector2D from \"./vector2D.js\";\r\n\r\n/** @class Game\r\n *  The controller for the game itself.\r\n *  @type {Game}\r\n */\r\nexport default class Game {\r\n  /** @constructor\r\n   *  Constructs a new game controller.\r\n   *  @param  {[Number]} width      The width of the visible screen.\r\n   *  @param  {[Number]} height     The height of the visible screen.\r\n   *  @param  {[Number]} cellSize   The size of the screen divisions.\r\n   */\r\n  constructor(width, height, cellSize) {\r\n    this.level = 0;\r\n    this.score = 0;\r\n    this.highScore = 0;\r\n    this.width = width;\r\n    this.height = height;\r\n    this.cellSize = cellSize;\r\n    this.wBounds = Vector2D.construct(-this.cellSize / 4, this.width + this.cellSize / 4);\r\n    this.hBounds = Vector2D.construct(-this.cellSize / 4, this.height + this.cellSize / 4);\r\n    // Create controllers for the various assets\r\n    this.ent = new EntController(width, height, cellSize);\r\n    this.vfx = new VFXController(width, height, cellSize);\r\n    this.sfx = new SFXController();\r\n    // Create front buffer\r\n    this.frontScreen = document.createElement('canvas');\r\n    this.frontScreen.width = width * 2.45;\r\n    this.frontScreen.height = height * 2.45;\r\n    this.frontScreen.border = 'solid';\r\n    this.frontBuff = this.frontScreen.getContext('2d');\r\n    document.body.appendChild(this.frontScreen);\r\n    // Create back buffer\r\n    this.backScreen = document.createElement('canvas');\r\n    this.backScreen.width = width;\r\n    this.backScreen.height = height;\r\n    this.backScreen.border = 'solid';\r\n    this.backBuff = this.backScreen.getContext('2d');\r\n    // Create flow control variables\r\n    this.elapseCounter = 0;\r\n    this.lowestTime = 0;\r\n    this.speed = 20;\r\n    this.state = \"paused\";\r\n    // Bind functions to context\r\n    this.handleKeyDown = this.handleKeyDown.bind(this);\r\n    this.handleKeyUp = this.handleKeyUp.bind(this);\r\n    this.loop = this.loop.bind(this);\r\n    this.pause = this.pause.bind(this);\r\n    this.render = this.render.bind(this);\r\n    this.restart = this.restart.bind(this);\r\n    this.unpause = this.unpause.bind(this);\r\n    this.update = this.update.bind(this);\r\n    // Bind event handlers\r\n    window.onkeydown = this.handleKeyDown;\r\n    window.onkeyup = this.handleKeyUp;\r\n\r\n    this.render(`High Score: ${this.highScore} ast ${this.lowestTime} tu`, [\"WASD to move\", \"UpArrow/Space to shoot forward\", \"DownArrow to shoot backward\", \"P/Pause to pause/unpause\", \"Shift + R to restart\"]);\r\n  }\r\n\r\n  /** @function handleKeyDown\r\n   *  The beginning of a key press event.\r\n   *  @param  {Object} event The key down event that was triggered.\r\n   */\r\n  handleKeyDown(event) {\r\n    event.preventDefault();\r\n\r\n    switch (event.key) {\r\n      case 'w':\r\n        if (!event.repeat)\r\n          this.ent.ship.pullInput({ sig: \"acc\", str: 0.08 });\r\n        break;\r\n      case 'a':\r\n        if (!event.repeat)\r\n          this.ent.ship.pullInput({ sig: \"ccw\", str: 2 });\r\n        else\r\n          this.ent.ship.pullInput({ sig: \"ccw\", str: 6 });\r\n        break;\r\n      case 's':\r\n        if (!event.repeat)\r\n          this.ent.ship.pullInput({ sig: \"acc\", str: -0.08 });\r\n        break;\r\n      case 'd':\r\n        if (!event.repeat)\r\n          this.ent.ship.pullInput({ sig: \"cw\", str: 2 });\r\n        else\r\n          this.ent.ship.pullInput({ sig: \"cw\", str: 6 });\r\n        break;\r\n      case ' ':\r\n      case 'ArrowUp':\r\n        if (this.state === \"running\")\r\n          if (!event.repeat)\r\n            this.ent.ship.pullInput({ sig: \"sht\", str: 0.5 });\r\n          else\r\n            this.ent.ship.pullInput({ sig: \"sht\", str: 0.6 });\r\n        break;\r\n      case 'ArrowDown':\r\n        if (this.state === \"running\")\r\n          if (!event.repeat)\r\n            this.ent.ship.pullInput({ sig: \"sht\", str: -0.5 });\r\n          else\r\n            this.ent.ship.pullInput({ sig: \"sht\", str: -0.6 });\r\n        break;\r\n      case 'R':\r\n        clearInterval(this.loopID);\r\n        this.restart();\r\n        break;\r\n      case 'p':\r\n      case 'Pause':\r\n        if (!event.repeat) {\r\n          switch (this.state) {\r\n            case \"running\":\r\n              this.sfx.play(\"ui\", \"beep\");\r\n              this.pause();\r\n              break;\r\n            case \"paused\":\r\n              this.sfx.play(\"ui\", \"beep\");\r\n              this.unpause();\r\n              break;\r\n            case \"complete\":\r\n              this.sfx.play(\"ui\", \"beep\");\r\n              clearTimeout(this.loopID);\r\n              this.restart(this.level + 1);\r\n              break;\r\n            case \"over\":\r\n              this.sfx.play(\"ui\", \"beep\");\r\n              this.restart();\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  /** @function handleKeyUp\r\n   *  The end of a key press event.\r\n   *  @param  {Object} event The key up event that was triggered.\r\n   */\r\n  handleKeyUp(event) {\r\n    event.preventDefault();\r\n\r\n    switch (event.key) {\r\n      case 'w':\r\n        this.ent.ship.stopInput('acc');\r\n        break;\r\n      case 'a':\r\n        this.ent.ship.stopInput(\"ccw\");\r\n        break;\r\n      case 's':\r\n        this.ent.ship.stopInput('acc');\r\n        break;\r\n      case 'd':\r\n        this.ent.ship.stopInput(\"cw\");\r\n        break;\r\n      case ' ':\r\n      case 'ArrowUp':\r\n        this.ent.ship.stopInput(\"sht\");\r\n        break;\r\n      case 'ArrowDown':\r\n        this.ent.ship.stopInput(\"sht\");\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  /** @function loop\r\n   *  Updates the entities and renders them each loop iteration.\r\n   */\r\n  loop() {\r\n    this.update();\r\n    switch (this.state) {\r\n      case 'running':\r\n        this.render(`High Score: ${this.highScore} ast ${this.lowestTime} tu`);\r\n        break;\r\n      case 'complete':\r\n        this.render(\"\", [\"Level Complete!\"]);\r\n        clearInterval(this.loopID);\r\n        this.loopID = setTimeout(() => this.restart(this.level + 1), 2000);\r\n        break;\r\n      case 'over':\r\n        this.render(`High Score: ${this.highScore} ast ${this.lowestTime} tu`, [\"Game Over!\",\"\",\"Press P/Pause to restart\"]);\r\n        clearInterval(this.loopID);\r\n        break;\r\n      case 'paused':\r\n      default:\r\n        break;\r\n    }\r\n    this.elapseCounter++;\r\n  }\r\n\r\n  /** @function pause\r\n   *  Pauses the game.\r\n   */\r\n  pause() {\r\n    this.state = \"paused\";\r\n    clearInterval(this.loopID);\r\n    this.render(`High Score: ${this.highScore} ast ${this.lowestTime} tu`, [\"Game is paused\"]);\r\n  }\r\n\r\n  resizeText(text, width = this.cellSize, height = this.cellSize) {\r\n    let textFont = this.cellSize, textWidth, textHeight, lastAction = \"none\";\r\n\r\n    for (let t = 0; t < 100; t++) {\r\n      // Set font\r\n      this.backBuff.font = `${textFont}pt Arial`;\r\n      // Measure text\r\n      textWidth = this.backBuff.measureText(text).width;\r\n      textHeight = this.backBuff.measureText(\"M\").width;\r\n      // Grow if font is too small\r\n      if (textWidth < width && textHeight < height && lastAction !== \"shrink\") {\r\n        textFont++;\r\n        lastAction = \"grow\";\r\n      }\r\n      // Shrink if font is too big\r\n      else if (textWidth > width || textHeight > height) {\r\n        textFont--;\r\n        // If that last change made it too big, shrink and return\r\n        if (lastAction === \"grow\")\r\n          return textFont;\r\n        // Otherwise shrink and continue\r\n        else\r\n          lastAction = \"shrink\";\r\n      }\r\n      // Otherwise return\r\n      else\r\n        return textFont;\r\n    }\r\n    return textFont;\r\n  }\r\n\r\n  /** @function render\r\n   *  Renders all the entities on the screen.\r\n   *  @param  {String} mssgText The state specific text to display.\r\n   */\r\n  render(subText = '', mssgText = []) {\r\n    let levelText, scoreText, livesText, fontSize, minSize, textWidth, mssgTop;\r\n    // Clear view\r\n    this.backBuff.clearRect(0, 0, this.width, this.height);\r\n    // Render visual effects\r\n    this.vfx.render(this.backBuff);\r\n    // Render entities\r\n    this.ent.render(this.backBuff);\r\n    // Save canvas context settings\r\n    this.backBuff.save();\r\n    // Set the fill color to a transparent white\r\n    this.backBuff.fillStyle = 'rgba(255, 127, 0, 0.6)';\r\n    // Setup text for the level\r\n    levelText = `Level: ${this.level + 1}`;\r\n    this.resizeText(levelText, this.cellSize * 3);\r\n    // Print level text\r\n    this.backBuff.fillText(levelText, 5, this.cellSize + 5);\r\n    // Setup text for the score and time\r\n    scoreText = `Score: ${this.score} Time: ${Math.floor(this.elapseCounter / 100)}`;\r\n    fontSize = this.resizeText(scoreText, this.cellSize * 7);\r\n    this.backBuff.font = `${fontSize - fontSize / 2 * (this.elapseCounter % 100) / 100}pt Arial`;\r\n    textWidth = this.backBuff.measureText(scoreText).width;\r\n    // Print score and time text\r\n    this.backBuff.fillText(scoreText, (this.width - textWidth) / 2, this.cellSize - this.cellSize / 2 * (this.elapseCounter % 100) / 100 + 5);\r\n    // Setup text for the lives\r\n    livesText = `Lives: ${this.ent.ship.lives}`;\r\n    this.resizeText(livesText, this.cellSize * 3);\r\n    textWidth = this.backBuff.measureText(livesText).width;\r\n    // Print lives text\r\n    this.backBuff.fillText(livesText, this.width - textWidth - 5, this.cellSize + 5);\r\n      if (mssgText.length > 0) {\r\n      // Get the font size for the message text\r\n      minSize = this.width;\r\n      for (let mssg of mssgText) {\r\n        fontSize = this.resizeText(mssg, this.width - 10, this.cellSize * 0.75);\r\n        if (fontSize < minSize)\r\n          minSize = fontSize;\r\n      }\r\n      // Set to minimum size so size is consistant\r\n      this.backBuff.font = `${minSize}pt Arial`;\r\n      // Setup the layout variables for the message\r\n      mssgTop = (this.height - this.cellSize * 0.75 * mssgText.length) / 2\r\n      // Create a neutral background\r\n      this.backBuff.fillStyle = \"black\";\r\n      this.backBuff.fillRect(5, mssgTop, this.width - 10, this.cellSize * 0.75 * mssgText.length + 5);\r\n      this.backBuff.fillStyle = 'rgba(255, 127, 0, 0.6)';\r\n      // Print the message text centered on the view\r\n      for (let mssg= 0; mssg < mssgText.length; mssg++) {\r\n        // Measure this line of text\r\n        textWidth = this.backBuff.measureText(mssgText[mssg]).width;\r\n        // Print as appropriately centered\r\n        this.backBuff.fillText(mssgText[mssg], (this.width - textWidth) / 2, mssgTop + this.cellSize * 0.75 * (mssg + 1));\r\n      }\r\n    }\r\n    if (subText) {\r\n      // Setup text for the sub text\r\n      this.resizeText(subText, this.width - 10, this.cellSize * 0.75);\r\n      textWidth = this.backBuff.measureText(subText).width;\r\n      // Print sub text\r\n      this.backBuff.fillText(subText, (this.width - textWidth) / 2, this.height - 5);\r\n    }\r\n    // Restore canvas context settings\r\n    this.backBuff.restore();\r\n    // Print back buffer onto front buffer\r\n    this.frontBuff.save();\r\n    this.frontBuff.scale(2.45, 2.45);\r\n    this.frontBuff.clearRect(0, 0, this.width, this.height);\r\n    this.frontBuff.drawImage(this.backScreen, 0, 0);\r\n    this.frontBuff.restore();\r\n  }\r\n\r\n  /** @function restart\r\n   *  Starts/Restarts a level of the game.\r\n   *  @param  {Number} level The level to setup.\r\n   */\r\n  restart(level = 0) {\r\n    this.level = level;\r\n    if (this.score > this.highScore) {\r\n      this.highScore = this.score;\r\n      this.lowestTime = Math.floor(this.elapseCounter / 100);\r\n    } else if (this.score === this.highScore && Math.floor(this.elapseCounter / 100) < this.lowestTime)\r\n      this.lowestTime = Math.floor(this.elapseCounter / 100);\r\n    this.score = this.level > 0 ? this.score : 0;\r\n    this.elapseCounter = this.level > 0 ? this.elapseCounter : 0;\r\n    this.speed = 20;\r\n    this.state = \"paused\";\r\n\r\n    this.ent.restart(level);\r\n    this.vfx.restart();\r\n\r\n    this.render(`High Score: ${this.highScore} ast ${this.lowestTime} tu`, [\"Game is paused\",\"\",\"WASD to move\", \"UpArrow/Space to shoot forward\", \"DownArrow to shoot backward\", \"P/Pause to pause/unpause\", \"Shift + R to restart\"]);\r\n  }\r\n\r\n  /** @function unpause\r\n   *  Unpauses the game.\r\n   */\r\n  unpause() {\r\n    this.state = \"running\";\r\n    this.loopID = setInterval(() => this.loop(), this.speed);\r\n    this.render(`High Score: ${this.highScore} ast ${this.lowestTime} tu`);\r\n  }\r\n\r\n  /** @function update\r\n   *  Updates all the entities in the game.\r\n   */\r\n  update() {\r\n    let result = this.ent.update(this.elapseCounter, this.score);\r\n\r\n    this.vfx.update();\r\n\r\n    for (let visual of result.visuals) {\r\n      switch (visual.type) {\r\n        case \"explosion\":\r\n          this.vfx.explosion(visual.data);\r\n          break;\r\n        case \"clouds\":\r\n          for (let cloud of visual.data) {\r\n            this.vfx.cloud(cloud);\r\n          }\r\n          break;\r\n        default:\r\n          console.log(\"unknown visual effect\");\r\n          break;\r\n      }\r\n    }\r\n\r\n    for (let channel in result.sounds) {\r\n      this.sfx.play(channel, result.sounds[channel]);\r\n    }\r\n\r\n    this.score = result.score;\r\n\r\n    this.state = result.state;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/game.js","/* entController.js */\r\nimport Ship from \"./ship.js\";\r\nimport Asteroid from \"./asteroid.js\";\r\nimport Powerup from \"./powerup.js\";\r\nimport * as Vector2D from \"../vector2D.js\";\r\n\r\n/** @class EntController\r\n *  The controller for entities of the game.\r\n *  @type {EntController}\r\n */\r\nexport default class EntController {\r\n  /** @constructor\r\n   *  Constructs a new entity controller.\r\n   *  @param  {[Number]} width      The width of the visible screen.\r\n   *  @param  {[Number]} height     The height of the visible screen.\r\n   *  @param  {[Number]} cellSize   The size of the screen divisions.\r\n   */\r\n  constructor(width, height, cellSize) {\r\n    this.ship = new Ship(width, height, cellSize, 3);\r\n    this.bullets = [];\r\n    this.asteroids = [];\r\n    this.spawn = 1;\r\n    this.aLimit = 10;\r\n    this.powerups = [];\r\n\r\n    this.width = width;\r\n    this.height = height;\r\n    this.cellSize = cellSize;\r\n    this.wBounds = Vector2D.construct(-this.cellSize / 4, this.width + this.cellSize / 4);\r\n    this.hBounds = Vector2D.construct(-this.cellSize / 4, this.height + this.cellSize / 4);\r\n  }\r\n\r\n  /** @function createAsteroid\r\n   *  Creates a new asteroid at the edge of the screen.\r\n   *  @return {Asteroid}  The asteroid created.\r\n   */\r\n  createAsteroid() {\r\n    let pos, diff, lvl;\r\n\r\n    // Place on the borders of the view\r\n    switch (Math.round(Math.random() * 4)) {\r\n      case 0:\r\n        pos = Vector2D.construct(0, Math.random() * (this.hBounds.y - 2));\r\n        break;\r\n      case 1:\r\n        pos = Vector2D.construct(this.width - 1, Math.random() * (this.hBounds.y - 2));\r\n        break;\r\n      case 2:\r\n        pos = Vector2D.construct(Math.random() * (this.wBounds.y - 2), 0);\r\n        break;\r\n      case 3:\r\n      default:\r\n        pos = Vector2D.construct(Math.random() * (this.wBounds.y - 2), this.height - 1);\r\n        break;\r\n    }\r\n    // Find the vector between the ship and the new asteroid\r\n    diff = Vector2D.sub(\r\n      Vector2D.construct(\r\n        this.ship.pos.x - this.cellSize * 2 + Math.random() * this.cellSize * 4,\r\n        this.ship.pos.y - this.cellSize * 2 + Math.random() * this.cellSize * 4\r\n      ),\r\n      pos\r\n    );\r\n    // Get a velocity in the general direction of the ship\r\n    let vel = Vector2D.construct(\r\n      this.cellSize / 100 + Math.random() * (this.cellSize / 50),\r\n      Math.atan2(diff.y, diff.x),\r\n      false\r\n    );\r\n    // Determine size class\r\n    lvl = 1 + Math.round(Math.random() * 3);\r\n\r\n    return new Asteroid(pos, lvl, this.cellSize, vel, -5 + Math.random() * 10);\r\n  }\r\n\r\n  /** @function breakAsteroid\r\n   *  Breaks the asteroid into smaller parts or completely.\r\n   *  @param  {Number} j  The index of the asteroid in the list.\r\n   */\r\n  breakAsteroid(j) {\r\n    let upgrades = [\"life\", \"invincible\", \"normal\", \"rapid\", \"spread\"];\r\n    let colors = [\"green\", \"white\", \"black\", \"red\", \"blue\"];\r\n    let score = 0;\r\n    let visual, sound, choice;\r\n\r\n    // Place an explosion effect at the old asteroid\r\n    visual = {type: \"explosion\", data: this.asteroids[j].pos};\r\n    // If the asteroid is tier 2 or higher degrade it\r\n    if (this.asteroids[j].lvl > 1) {\r\n      this.asteroids[j].degrade(this.ship.pos, this.cellSize).forEach(subUnit => {\r\n        this.asteroids.push(subUnit);\r\n      });\r\n      // Play a cracking sound\r\n      sound = {channel: \"asteroids\", track: \"crack\"};\r\n    }\r\n    // Otherwise destroy the asteroid completely\r\n    else {\r\n      // If the asteroid contained a prize, place it on the playing area\r\n      if (this.asteroids[j].prz) {\r\n        choice = Math.floor(Math.random() * upgrades.length);\r\n        this.powerups.push(new Powerup(this.asteroids[j].pos, this.cellSize / 4, upgrades[choice], colors[choice]));\r\n      }\r\n      // Play a breaking sound\r\n      sound = {channel: \"asteroids\", track: \"break\"};\r\n    }\r\n    // Remove asteroid from array\r\n    this.asteroids.splice(j, 1);\r\n    // Increase score\r\n    score++;\r\n\r\n    return {score: score, visual: visual, channel: sound.channel, track: sound.track};\r\n  }\r\n\r\n  render(ctx) {\r\n    this.powerups.forEach(powerup => {\r\n      powerup.render(ctx);\r\n    })\r\n\r\n    this.ship.render(ctx);\r\n\r\n    this.bullets.forEach(bullet => {\r\n        bullet.render(ctx);\r\n    });\r\n\r\n    this.asteroids.forEach(asteroid => {\r\n      asteroid.render(ctx);\r\n    });\r\n  }\r\n\r\n  restart(level) {\r\n    this.ship = new Ship(this.width, this.height, this.cellSize, level ? this.ship.lives : 3);\r\n    this.bullets = [];\r\n    this.asteroids = [];\r\n    this.spawn = 1;\r\n    this.aLimit = (10 + level * 5) % 50;\r\n    this.powerups = [];\r\n  }\r\n\r\n  /** @function update\r\n   *  Updates all the entities on the level.\r\n   *  @return {Array}  The state of the game and all visual and sounds effects generated.\r\n   */\r\n  update(elapseCounter, score) {\r\n    let state = \"running\";\r\n    let sounds = [];\r\n    let visuals = [];\r\n    let effects;\r\n\r\n    // Update ship\r\n    this.ship.update(this.wBounds, this.hBounds);\r\n    // Determing if moving\r\n    let clouds = this.ship.propel();\r\n    if (clouds.length > 0) {\r\n      visuals.push({type: \"clouds\", data: clouds});\r\n    }\r\n    // Determine if shooting\r\n    let bullets = this.ship.shoot(this.cellSize);\r\n    if (bullets.length > 0) {\r\n      this.bullets = this.bullets.concat(bullets);\r\n      sounds[\"ship\"] = \"shoot\";\r\n    }\r\n\r\n    // Update asteroid\r\n    this.asteroids.forEach(asteroid => {\r\n      asteroid.update(this.wBounds, this.hBounds);\r\n    });\r\n    // Check for and correct asteroid collisions\r\n    for (let i = 0; i < this.asteroids.length; i++) {\r\n      for (let j = i + 1; j < this.asteroids.length; j++) {\r\n        if (Vector2D.norm(Vector2D.sub(this.asteroids[i].pos, this.asteroids[j].pos)) < (this.asteroids[i].sze + this.asteroids[j].sze)) {\r\n          this.asteroids[i].bounce(this.asteroids[j]);\r\n          sounds[\"asteroids\"] = \"bounce\";\r\n        }\r\n      }\r\n    }\r\n\r\n    // Update powerups\r\n    for (let pu = 0; pu < this.powerups.length;) {\r\n      switch(this.powerups[pu].update(this.ship.pos, this.ship.atm)) {\r\n        case \"life\":\r\n          this.ship.lives++;\r\n          this.powerups.splice(pu, 1);\r\n          sounds[\"ui\"] = \"powerup\";\r\n          break;\r\n        case \"invincible\":\r\n          this.ship.inv = 300;\r\n          score++;\r\n          this.powerups.splice(pu, 1);\r\n          sounds[\"ui\"] = \"powerup\";\r\n          break;\r\n        case \"normal\":\r\n          if (this.ship.fire !== \"normal\")\r\n            this.ship.fire = \"normal\";\r\n          score++;\r\n          this.powerups.splice(pu, 1);\r\n          sounds[\"ui\"] = \"powerup\";\r\n          break;\r\n        case \"rapid\":\r\n          if (this.ship.fire !== \"rapid\")\r\n            this.ship.fire = \"rapid\";\r\n          score++;\r\n          this.powerups.splice(pu, 1);\r\n          sounds[\"ui\"] = \"powerup\";\r\n          break;\r\n        case \"spread\":\r\n          if (this.ship.fire !== \"spread\")\r\n            this.ship.fire = \"spread\";\r\n          score++;\r\n          this.powerups.splice(pu, 1);\r\n          sounds[\"ui\"] = \"powerup\";\r\n          break;\r\n        default:\r\n          pu++;\r\n          break;\r\n      }\r\n    }\r\n\r\n    // Update bullets\r\n    for (let b = 0; b < this.bullets.length; b++) {\r\n      // If bullet runs off screen, then dispose\r\n      if (this.bullets[b] && !this.bullets[b].update(this.wBounds, this.hBounds))\r\n        this.bullets[b] = null;\r\n\r\n      if (this.bullets[b]) {\r\n        // Check if the bullet hit an asteroid\r\n        let a = this.asteroids.findIndex(entity => {\r\n          return Vector2D.norm(Vector2D.sub(entity.pos, this.bullets[b].pos)) < entity.sze;\r\n        });\r\n        // If an asteroid was hit, then break it\r\n        if (a > -1) {\r\n          effects = this.breakAsteroid(a);\r\n          visuals.push(effects.visual);\r\n          sounds[effects.channel] = effects.track;\r\n          score = score + effects.score;\r\n          this.bullets[b] = null;\r\n        }\r\n        // Otherwise check if the bullet hit the ship\r\n        else {\r\n          if (!this.ship.inv) {\r\n            if (Vector2D.norm(Vector2D.sub(this.ship.pos, this.bullets[b].pos)) < this.ship.atm) {\r\n              // If the ship has more live, continue\r\n              if (this.ship.lives > 1) {\r\n                this.ship = new Ship(this.width, this.height, this.cellSize, this.ship.lives - 1);\r\n              }\r\n              // Otherwise, game over\r\n              else {\r\n                state= \"over\"\r\n              }\r\n              sounds[\"ship\"] = \"death\";\r\n              this.bullets[b] = null;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // Remove bullets that were nullified\r\n    this.bullets = this.bullets.filter(bullet => bullet);\r\n\r\n\r\n    // Check collisions between asteroids and the ship\r\n    if (!this.ship.inv) {\r\n      for (let i = 0; i < this.asteroids.length; i++) {\r\n        if (Vector2D.norm(Vector2D.sub(this.asteroids[i].pos, this.ship.pos)) < (this.asteroids[i].sze + this.ship.atm)) {\r\n          // If the ship has more lives, continue\r\n          if (this.ship.lives > 1) {\r\n            this.ship = new Ship(this.width, this.height, this.cellSize, this.ship.lives - 1);\r\n          }\r\n          // Otherwise, game over\r\n          else {\r\n            state = \"over\";\r\n          }\r\n          sounds[\"ship\"] = \"death\";\r\n        }\r\n      }\r\n    }\r\n\r\n    if (\r\n      elapseCounter &&\r\n      !(elapseCounter % 1000) &&\r\n      this.aLimit < 100\r\n    )\r\n    this.aLimit++;\r\n\r\n    if (this.spawn < this.aLimit) {\r\n      if (elapseCounter % 50 === 0 || this.asteroids.length === 0) {\r\n        this.asteroids.push(this.createAsteroid());\r\n        this.spawn++;\r\n      }\r\n    }\r\n\r\n    if (this.asteroids.length === 0)\r\n      state = \"complete\";\r\n\r\n    return {state: state, score: score, visuals: visuals, sounds: sounds};\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entities/entController.js","/* ship.js */\r\n\r\nimport Bullet from \"./bullet.js\";\r\nimport * as Vector2D from \"../vector2D.js\";\r\n\r\n/** @class Ship\r\n *  The ship that floats through space and fires a laser periodically.\r\n *  @type {Ship}\r\n */\r\nexport default class Ship {\r\n  /** @constructor\r\n   *  Constructs a new space vessel.\r\n   *  @param  {Number} width    The width of the visible screen.\r\n   *  @param  {Number} height   The height of the visible screen.\r\n   *  @param  {Number} cellSize The size of the cells that the screen is split into.\r\n   *  @param  {Number} lives    The number of attempts this ship has left.\r\n   */\r\n  constructor (width, height, cellSize, lives) {\r\n    this.pos = Vector2D.construct(width / 2, height / 2);\r\n    this.ori = 270;\r\n    this.atm = cellSize * (2 / 5);\r\n    this.vel = Vector2D.construct(0, 0);\r\n    this.lat = \"na\";\r\n    this.spd = 0;\r\n    this.maxSpd = cellSize * 0.1;\r\n    this.ang = \"na\";\r\n    this.trq = 0;\r\n    this.sht = \"na\";\r\n    this.str = 0;\r\n    this.cld = 0;\r\n    this.fire = \"normal\";\r\n    this.upgCld = 0;\r\n    this.maxCld = 30;\r\n    this.lives = lives;\r\n    this.inv = 100;\r\n\r\n    this.shoot = this.shoot.bind(this);\r\n    this.propel = this.propel.bind(this);\r\n    this.pullInput = this.pullInput.bind(this);\r\n    this.stopInput = this.stopInput.bind(this);\r\n    this.render = this.render.bind(this);\r\n    this.update = this.update.bind(this);\r\n  }\r\n\r\n  shoot(cellSize) {\r\n    let bullets = [];\r\n    let vel;\r\n\r\n    switch(this.sht) {\r\n      case \"sht\":\r\n        if (!this.cld) {\r\n          switch (this.fire) {\r\n            case \"rapid\":\r\n              vel = Vector2D.construct(this.str * cellSize, this.ori * Math.PI / 180, false);\r\n              bullets.push(new Bullet(Vector2D.add(this.pos, Vector2D.scale(vel, 1.5)), vel, \"red\"));\r\n              this.cld = Math.floor(this.maxCld * 0.75);\r\n              break;\r\n            case \"spread\":\r\n              for (let s = -1; s < 2; s++) {\r\n                vel = Vector2D.construct(this.str * cellSize, (this.ori + s * 15) * Math.PI / 180, false);\r\n                bullets.push(new Bullet(Vector2D.add(this.pos, Vector2D.scale(vel, 1.5)), vel, \"blue\"));\r\n              }\r\n              this.cld = Math.floor(this.maxCld * 1.25);\r\n              break;\r\n            default:\r\n              vel = Vector2D.construct(this.str * cellSize, this.ori * Math.PI / 180, false);\r\n              bullets.push(new Bullet(Vector2D.add(this.pos, Vector2D.scale(vel, 1.5)), vel, \"grey\"));\r\n              this.cld = this.maxCld;\r\n              break;\r\n          }\r\n        }\r\n        else\r\n          this.cld--;\r\n        break;\r\n      default:\r\n        if (this.cld)\r\n          this.cld--;\r\n        break;\r\n    }\r\n    return bullets;\r\n  }\r\n\r\n  propel() {\r\n    let clouds = [];\r\n    let pos;\r\n\r\n    switch(this.ang) {\r\n      case \"cw\":\r\n        pos = Vector2D.construct(this.atm, (this.ori - 45) * Math.PI / 180, false);\r\n        clouds.push({pos: Vector2D.add(this.pos, pos), rad: this.atm * 0.7, life: 10, dens: 10, colors: [\"white\"]});\r\n        break;\r\n      case \"ccw\":\r\n        pos = Vector2D.construct(this.atm, (this.ori + 45) * Math.PI / 180, false);\r\n        clouds.push({pos: Vector2D.add(this.pos, pos), rad: this.atm * 0.7, life: 10, dens: 10, colors: [\"white\"]});\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    switch(this.lat) {\r\n      case \"acc\":\r\n        pos = Vector2D.construct(this.atm + 5, (this.ori + (this.spd > 0 ? 180 : 0)) * Math.PI / 180, false);\r\n        clouds.push({pos: Vector2D.add(this.pos, pos), rad: this.atm * 0.7, life: 40, dens: 10, colors: [\"white\"]});\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return clouds;\r\n  }\r\n\r\n  /** @function pullInput\r\n   *  Interprets an input command.\r\n   *  @param  {Object} inp  The input signal and its strength.\r\n   */\r\n  pullInput(inp) {\r\n    switch (inp.sig) {\r\n      case \"cw\":\r\n      case \"ccw\":\r\n        this.ang = inp.sig;\r\n        this.trq = inp.str;\r\n        break;\r\n      case \"acc\":\r\n        this.lat = inp.sig;\r\n        this.spd = inp.str;\r\n        break;\r\n      case \"sht\":\r\n        this.sht = inp.sig;\r\n        this.str = inp.str;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  /** @function stopInput\r\n   *  Terminates an input signal if it is the active signal of that class.\r\n   *  @param  {String} inp  The input to stop.\r\n   */\r\n  stopInput(inp) {\r\n    if (inp === this.ang) {\r\n      this.ang = \"na\";\r\n      this.trq = 0;\r\n    } else if (inp === this.lat) {\r\n      this.lat = \"na\";\r\n      this.spd = 0;\r\n    } else if (inp === this.sht) {\r\n      this.sht = \"na\";\r\n      this.str = 0;\r\n    }\r\n  }\r\n\r\n  /** @function render\r\n   *  Renders this ship on the screen.\r\n   *  @param  {CanvasContext} ctx The buffer to render on.\r\n   */\r\n  render(ctx) {\r\n    var disA = -1 + Math.round(Math.random() * 2);\r\n    var disB = -1 + Math.round(Math.random() * 2);\r\n    // Save the canvas context settings\r\n    ctx.save();\r\n    // Translate the origin to the center of the ship\r\n    ctx.translate(this.pos.x, this.pos.y);\r\n    // Draw the cooldown bar\r\n    ctx.fillStyle = \"red\";\r\n    ctx.fillRect(-this.atm, -this.atm * (3 / 2), (this.atm * 2) * (this.cld / this.maxCld), 2);\r\n    // Rotate the origin to orient the ship \"up\"\r\n    ctx.rotate(this.ori * Math.PI / 180);\r\n    // Draw background atmosphere\r\n    ctx.strokeStyle = 'rgba(0, 255, 255, 0.5)';\r\n    ctx.fillStyle = 'rgba(0, 255, 255, 0.1)';\r\n    ctx.beginPath();\r\n    ctx.arc(disA, disB, this.atm, 0, 2 * Math.PI, false);\r\n    ctx.fill();\r\n    ctx.stroke();\r\n    // Draw the ship itself\r\n    ctx.strokeStyle = `rgba(255, 255, 255, ${1 * (1 - (this.inv % 20) / 20)})`;\r\n    ctx.fillStyle = 'black';\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.atm, 0);\r\n    ctx.lineTo(-this.atm * Math.cos(Math.PI / 4), -this.atm * Math.sin(Math.PI / 4));\r\n    ctx.lineTo(-this.atm / 3, 0);\r\n    ctx.lineTo(-this.atm * Math.cos(Math.PI / 4), this.atm * Math.sin(Math.PI / 4));\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.stroke();\r\n    // Draw foreground atmosphere\r\n    ctx.strokeStyle = 'rgba(0, 255, 255, 0.5)';\r\n    ctx.fillStyle = 'rgba(0, 255, 255, 0.1)';\r\n    ctx.beginPath();\r\n    ctx.arc(-disA, -disB, this.atm, 0, 2 * Math.PI, false);\r\n    ctx.fill();\r\n    ctx.stroke();\r\n    // Restore the canvas context settings\r\n    ctx.restore();\r\n  }\r\n\r\n  /** @function update\r\n   *  Updates this ship's location, orientation angle, and accessories.\r\n   *  @param  {Vector2D} width  The width extremas.\r\n   *  @param  {Vector2D} height The height extremas.\r\n   */\r\n  update(width, height) {\r\n    let bullets = [];\r\n    // Update the spin\r\n    switch(this.ang) {\r\n      case \"cw\":\r\n        this.ori = (this.ori + this.trq) % 360;\r\n        break;\r\n      case \"ccw\":\r\n        this.ori = (360 + this.ori - this.trq) % 360;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    // Update the velocity\r\n    switch(this.lat) {\r\n      case \"acc\":\r\n        this.vel = Vector2D.trunc(\r\n          Vector2D.add(\r\n            this.vel,\r\n            Vector2D.construct(this.spd, this.ori * Math.PI / 180, false)\r\n          ),\r\n          this.maxSpd\r\n        );\r\n        break;\r\n      default:\r\n        this.vel = Vector2D.scale(this.vel, 0.99);\r\n        break;\r\n    }\r\n    // Update the gun cool down\r\n    if (this.cld)\r\n      this.cld--;\r\n    // Update the upgrade cool down\r\n    if (this.upgCld > 0)\r\n      this.upgCld--;\r\n    else if (!this.upgCld) {\r\n      this.fire = \"normal\";\r\n      this.upgCld = -1;\r\n    }\r\n    // Update the position\r\n    this.pos = Vector2D.wrap(Vector2D.add(this.pos, this.vel), width, height);\r\n    // Update the invincibity count down\r\n    if (this.inv)\r\n      this.inv--;\r\n\r\n    return bullets;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entities/ship.js","/* bullet.js */\r\nimport AfterGlow from \"./afterGlow.js\";\r\nimport * as Vector2D from \"../vector2D.js\";\r\n\r\n/** @class Bullet\r\n *  A laser bullet that can break asteroids.\r\n *  @type {Bullet}\r\n */\r\nexport default class Bullet {\r\n  /** @constructor\r\n   *  Constructs a new bullet at the tip of the ship.\r\n   *  @param  {Vector2D} pos  The position to start this bullet.\r\n   *  @param  {Number} vel    The velocity of this bullet.\r\n   */\r\n  constructor(pos, vel, color) {\r\n    this.pos = pos;\r\n    this.vel = vel;\r\n    this.color = color;\r\n    this.afterglow = [];\r\n\r\n    this.render = this.render.bind(this);\r\n    this.update = this.update.bind(this);\r\n  }\r\n\r\n  /** @function render\r\n   *  Renders this bullet and its trail on the buffer.\r\n   *  @param  {CanvasContext} ctx The buffer to render on.\r\n   */\r\n  render(ctx) {\r\n    // Render the afterglow of the bullet\r\n    this.afterglow.forEach(glow => {\r\n      glow.render(ctx);\r\n    });\r\n    // Save the canvas context settings\r\n    ctx.save();\r\n    // Translate and rotate the origin to the center of the bullet\r\n    ctx.translate(this.pos.x, this.pos.y);\r\n    ctx.rotate(Vector2D.angle(this.vel));\r\n    // Set stroke style to the color of the bullet\r\n    ctx.strokeStyle = this.color;\r\n    // Begin drawing bullet\r\n    ctx.beginPath();\r\n    ctx.moveTo(-2, -1);\r\n    ctx.lineTo(2, -1);\r\n    ctx.arc(2, 0, 1, Math.PI * 1.5, Math.PI * 0.5, false);\r\n    ctx.moveTo(2, 1);\r\n    ctx.lineTo(-2, 1);\r\n    ctx.arc(-2, 0, 1, Math.PI * 0.5, Math.PI * 1.5, false);\r\n    // Finish drawing bullet\r\n    ctx.stroke();\r\n    // Restote the canvas context settings\r\n    ctx.restore();\r\n  }\r\n\r\n  /** @function update\r\n   *  Updates the position of this bullet and its trail.\r\n   *  @param  {Vector2D} width  The width extremas.\r\n   *  @param  {Vector2D} height The height extremas.\r\n   *  @return {Boolean}         Whether or not this bullet has hit the edge of the space.\r\n   */\r\n  update(width, height) {\r\n    // Update the afterglow\r\n    for (let j = 0; j < this.afterglow.length; j++) {\r\n      if (!this.afterglow[j].update())\r\n        this.afterglow.splice(j, 1);\r\n    }\r\n    // Add another afterglow image\r\n    this.afterglow.push(new AfterGlow(this.pos, Vector2D.angle(this.vel), Math.round(15 * (Vector2D.norm(this.pos) % 30 + 20) / 50), this.color));\r\n    // Update the position of the bullet\r\n    this.pos = Vector2D.add(this.pos, this.vel);\r\n    // Return whether or not the bullet has reached the edge of the screen\r\n    return !(this.pos.x < width.x || this.pos.x > width.y || this.pos.y < height.x || this.pos.y > height.y);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entities/bullet.js","/* afterGlow.js */\r\n\r\n/** @class AfterGlow\r\n *  A laser afterglow particle.\r\n *  @type {AfterGlow}\r\n */\r\nexport default class AfterGlow {\r\n  /** @constructor\r\n   *  Constructs a new \"afterglow\" visual effect.\r\n   *  @param  {Object} pos    The position for the afterglow.\r\n   *  @param  {Number}   ang    The angle of orientation for the afterglow.\r\n   *  @param  {Number}   life   The duration that the afterglow will appear on screen.\r\n   *  @param  {String}   color  The color of the afterglow.\r\n   */\r\n  constructor(pos, ang, life, color) {\r\n    this.pos = pos;\r\n    this.ang = ang;\r\n    this.life = life;\r\n    this.maxLife = life;\r\n    this.color = color;\r\n\r\n    this.render = this.render.bind(this);\r\n    this.update = this.update.bind(this);\r\n  }\r\n\r\n  /** @function render\r\n   *  Renders the afterglow effect on the buffer.\r\n   *  @param  {CanvasContext} ctx   The buffer to render on.\r\n   */\r\n  render(ctx) {\r\n    var per = this.life / this.maxLife;\r\n\r\n    // Save the canvas context settings\r\n    ctx.save();\r\n    // Translate and rotate the origin to the center of the afterglow\r\n    ctx.translate(this.pos.x, this.pos.y);\r\n    ctx.rotate(this.ang);\r\n    // Set the stroke color to the saved color\r\n    ctx.strokeStyle = this.color;\r\n    // Begin drawing the afterglow outline\r\n    ctx.beginPath();\r\n    ctx.moveTo(-2 * per, -1 * per);\r\n    ctx.lineTo(2 * per, -1 * per);\r\n    ctx.arc(2 * per, 0, 1 * per, Math.PI * 1.5, Math.PI * 0.5, false);\r\n    ctx.moveTo(2 * per, 1 * per);\r\n    ctx.lineTo(-2 * per, 1 * per);\r\n    ctx.arc(-2 * per, 0, 1 * per, Math.PI * 0.5, Math.PI * 1.5, false);\r\n    // Finish drawing the afterglow\r\n    ctx.stroke();\r\n    // Restore the canvas context settings\r\n    ctx.restore();\r\n  }\r\n\r\n  /** @function update\r\n   *  Decrements the duration of this afterglow.\r\n   *  @return {Boolean}    True if the afterglow remains, false if it 'dies'.\r\n   */\r\n  update() {\r\n    this.life--;\r\n    return this.life;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entities/afterGlow.js","/* asteroid.js */\r\nimport * as Vector2D from \"../vector2D.js\";\r\n\r\n/** @class Asteroid\r\n *  The destructable asteroid obstacles in the space of the game.\r\n *  @type {Asteroid}\r\n */\r\nexport default class Asteroid {\r\n  /** @constructor\r\n   *  Constructs a new asteroid.\r\n   *  @param  {Obect}  pos      The position to spawn the asteroid.\r\n   *  @param  {Number} lvl      The size class of this asteroid.\r\n   *  @param  {Number} cellSize The size of the screen divisions.\r\n   *  @param  {Number} vel      The velocity of the asteroid.\r\n   *  @param  {Number} spn      The torque of the asteroid.\r\n   */\r\n  constructor(pos, lvl, cellSize, vel, spn) {\r\n    this.pos = pos;\r\n    this.ort = Math.random() * 360;\r\n    this.vel = vel;\r\n    this.spn = spn;\r\n    this.lvl = lvl;\r\n    this.sze = lvl / 5 * cellSize + cellSize / 5;\r\n    this.sur = [];\r\n    this.prz = lvl === 1 && Math.random() < 0.09;\r\n\r\n    this.createSurface();\r\n\r\n    this.bounce = this.bounce.bind(this);\r\n    this.createSurface = this.createSurface.bind(this);\r\n    this.degrade = this.degrade.bind(this);\r\n    this.render = this.render.bind(this);\r\n    this.update = this.update.bind(this);\r\n  }\r\n\r\n  /** @function bounce\r\n   *  Calculates the new traectory and postion of this and another asteroid after a collision.\r\n   *  @param  {Asteroid} ast The other asteroid to bounce off of.\r\n   */\r\n  bounce(ast) {\r\n    var v1 = this.vel,\r\n        v2 = ast.vel,\r\n        d1 = Vector2D.sub(this.pos, ast.pos),\r\n        d2 = Vector2D.negate(d1);\r\n    // Correct the velosity of this asteroid\r\n    this.vel = Vector2D.sub(\r\n      v1,\r\n      Vector2D.scale(d1, 2 * ast.sze / (this.sze + ast.sze) * Vector2D.dot(Vector2D.sub(v1, v2), d1) / Vector2D.dot(d1, d1))\r\n    );\r\n    // Correct the velocity of the other asteroid\r\n    ast.vel = Vector2D.sub(\r\n      v2,\r\n      Vector2D.scale(d2, 2 * this.sze / (this.sze + ast.sze) * Vector2D.dot(Vector2D.sub(v2, v1), d2) / Vector2D.dot(d2, d2))\r\n    );\r\n    // Correct the positions of both asteroids so they are no longer colliding\r\n    this.pos = Vector2D.add(this.pos, Vector2D.scale(Vector2D.sub(Vector2D.scale(d1, (this.sze + ast.sze) / Vector2D.norm(d1)), d1), 0.5));\r\n    ast.pos = Vector2D.add(ast.pos, Vector2D.scale(Vector2D.sub(Vector2D.scale(d2, (this.sze + ast.sze) / Vector2D.norm(d2)), d2), 0.5));\r\n  }\r\n\r\n  /** @function createSurface\r\n   *  Creates the uneven surface of this asteroid.\r\n   */\r\n  createSurface() {\r\n    var t = 0,\r\n        r = (this.sze * 0.5) + Math.random() * (this.sze * 0.5),\r\n        newR;\r\n    // Going the circumference of the asteroid\r\n    while (t < 360) {\r\n      // find a new acceptable point\r\n      do {\r\n        newR = r;\r\n\r\n        var probability = Math.random();\r\n        // Determine of the next point will be lower of higher\r\n        if (probability < 0.50)\r\n          newR -= (this.sze * 0.05) + Math.random() * (this.sze * 0.1);\r\n        else if (probability < 1.00)\r\n          newR += (this.sze * 0.05) + Math.random() * (this.sze * 0.1);\r\n\r\n      } while (this.sze < newR || newR < (this.sze * 0.5));\r\n      // Update the current point\r\n      r = newR;\r\n      // Add to the list\r\n      this.sur.push({ x: r * Math.cos(t * Math.PI / 180), y:  r * Math.sin(t * Math.PI / 180) });\r\n      // Advance along the circumference\r\n      t += Math.min(5 + Math.random() * 40, 360 - t);\r\n    }\r\n  }\r\n\r\n  /** @function degrade\r\n   *  Degrades this asteroid into smaller chuncks.\r\n   *  @param  {Object} center     The location of the bullet to determine angle of collision.\r\n   *  @param  {Number} cellSize   The size of the screen divisions.\r\n   *  @return {Array}             The list of new asteroids created after degredation.\r\n   */\r\n  degrade(center, cellSize) {\r\n    // Predetermine sizes of the subunits\r\n    let subLevels = [],\r\n        lvl = this.lvl,\r\n        sLvl;\r\n    // Determine what the new sizes will be\r\n    while (lvl > 0) {\r\n      sLvl = 1 + Math.round(Math.random() * (lvl - 1 - (subLevels.length === 0 ? 1 : 0)));\r\n      subLevels.push(sLvl);\r\n      lvl -= sLvl;\r\n    }\r\n    // Create an asteroid for each of the subunits\r\n    let subUnits = [],\r\n        angleBase = (Vector2D.angle(Vector2D.sub(this.pos, center)) * 180 / Math.PI + 90) % 360,\r\n        angle, radius, offset;\r\n\r\n    for (let i = 0; i < subLevels.length; i++) {\r\n      sLvl = subLevels[i];\r\n      angle = (angleBase + i / subLevels.length * 360) % 360;\r\n      radius = cellSize / 2 + sLvl * cellSize / 10;\r\n      offset = Vector2D.construct(radius, angle * Math.PI / 180, false);\r\n      // Add the new asteroid to the list of asteroids\r\n      subUnits.push(\r\n        new Asteroid(\r\n          Vector2D.add(this.pos, offset),\r\n          sLvl,\r\n          cellSize,\r\n          Vector2D.add(Vector2D.scale(this.vel, 0.5 + 0.2 * (sLvl / 3)), Vector2D.scale(Vector2D.unit(offset), cellSize / 100 + Math.random() * cellSize / 60)),\r\n          -10 + Math.random() * 20\r\n        )\r\n      );\r\n    }\r\n\r\n    return subUnits;\r\n  }\r\n\r\n  /** @function render\r\n   *  Renders this asteroid onto the buffer.\r\n   *  @param  {CanvasContext} ctx The buffer to render on.\r\n   */\r\n  render(ctx) {\r\n    var disA = -3 + Math.round(Math.random() * 6);\r\n    var disB = -3 + Math.round(Math.random() * 6);\r\n    // Save the canvas context settings\r\n    ctx.save();\r\n    // Translate and rotate the origin to the center of this asteroid\r\n    ctx.translate(this.pos.x, this.pos.y);\r\n    ctx.rotate((this.ort * Math.PI) / 180);\r\n    // Draw background atmospheres\r\n    ctx.strokeStyle = this.prz? 'rgba(0, 255, 255, 0.5)' : 'rgba(128, 0, 255, 0.5)';\r\n    ctx.fillStyle = this.prz? 'rgba(0, 255, 255, 0.2)' : 'rgba(128, 0, 255, 0.2)';\r\n    ctx.beginPath();\r\n    ctx.arc(disA, disB, this.sze, 0, 2* Math.PI, false);\r\n    ctx.fill();\r\n    ctx.stroke();\r\n    // Draw the surface of the asteroid\r\n    ctx.strokeStyle = this.prz? 'yellow' : 'white';\r\n    ctx.fillStyle = 'black';\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.sur[0].x, this.sur[0].y);\r\n    for (let i = 1; i < this.sur.length; i++) {\r\n      ctx.lineTo(this.sur[i].x, this.sur[i].y);\r\n    }\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.stroke();\r\n    // Draw the foreground atmospheres\r\n    ctx.strokeStyle = this.prz? 'rgba(255, 0, 255, 0.5)' : 'rgba(0, 255, 0, 0.5)';\r\n    ctx.fillStyle = this.prz? 'rgba(255, 0, 255, 0.15)' : 'rgba(0, 255, 0, 0.15)';\r\n    ctx.beginPath();\r\n    ctx.arc(-disA, -disB, this.sze, 0, 2* Math.PI, false);\r\n    ctx.fill();\r\n    ctx.stroke();\r\n    // Restore the canvas context settings\r\n    ctx.restore();\r\n  }\r\n\r\n  /** @function update\r\n   *  Updates this asteroids position, orientation angle.\r\n   *  @param  {Vector2D} width  The width extremas.\r\n   *  @param  {Vector2D} height The height extremas.\r\n   */\r\n  update(width, height) {\r\n    // Update the position of the asteroid\r\n    this.pos = Vector2D.wrap(Vector2D.add(this.pos, this.vel), width, height);\r\n    // Update the orientation of the asteroid\r\n    this.ort = (this.ort + this.spn) % 360;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entities/asteroid.js","/* pickup.js */\r\nimport * as Vector2D from \"../vector2D.js\";\r\n\r\n/** @class Powerup\r\n *  Upgrades that can be picked up from the field.\r\n *  @type {Powerup}\r\n */\r\nexport default class Powerup {\r\n  /** @constructor\r\n   *  Construct a new instance of a powerup\r\n   *  @param {Object} pos   The position of the powerup.\r\n   *  @param {Number} rad   The radius of the powerup.\r\n   *  @param {String} tag   The type of powerup.\r\n   *  @param {String} color The color of the powerup.\r\n   */\r\n  constructor(pos, rad, tag, color) {\r\n    this.pos = pos;\r\n    this.rad = rad;\r\n    this.tag = tag;\r\n    this.color = color;\r\n\r\n    this.render = this.render.bind(this);\r\n    this.update = this.update.bind(this);\r\n  }\r\n\r\n  /** @function render\r\n   *  Renders the pickup on the buffer.\r\n   *  @param  {CanvasContext} ctx   The buffer to render on.\r\n   */\r\n  render(ctx) {\r\n    // Save the canvas context settings\r\n    ctx.save();\r\n    // Set the fill color to the color of this powerup\r\n    ctx.fillStyle = this.color;\r\n    // Begin drawing the powerup\r\n    ctx.beginPath();\r\n    ctx.arc(this.pos.x, this.pos.y, this.rad, 0, 2 * Math.PI, false);\r\n    // Finish drawing the powerup\r\n    ctx.fill();\r\n    // Reserve the canvas context settings\r\n    ctx.restore();\r\n  }\r\n\r\n  /** @function update\r\n   *  Determine if the pickup has been picked up.\r\n   *  @return {Boolean}    The tag of the pickup or null.\r\n   */\r\n  update(pos, l) {\r\n    if (Vector2D.norm(Vector2D.sub(pos, this.pos)) < this.rad + l)\r\n      return this.tag;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entities/powerup.js","/* vfxController.js */\r\n\r\nimport Twinkle from \"./twinkle.js\";\r\nimport Explosion from \"./explosion.js\";\r\nimport Cloud from \"./cloud.js\";\r\nimport * as Vector2D from \"../vector2D.js\";\r\n\r\n/** @class VFXController\r\n *  The controller for visual effects of the game.\r\n *  @type {VFXController}\r\n */\r\nexport default class VFXController {\r\n  /** @constructor\r\n   *  Constructs a new effects controller.\r\n   *  @param  {Number} width      The width of the visible screen.\r\n   *  @param  {Number} height     The height of the visible screen.\r\n   *  @param  {Number} cellSize   The size of the screen divisions.\r\n   */\r\n  constructor(width, height, cellSize) {\r\n    this.width = width;\r\n    this.height = height;\r\n    this.cellSize = cellSize;\r\n    this.explosions = [];\r\n    this.clouds = [];\r\n    this.twinkles = [];\r\n    // Generate the sky\r\n    for (let i = 0; i < 10; i++) {\r\n      this.twinkles.push(\r\n        new Twinkle(\r\n          Vector2D.construct(Math.random() * width, Math.random() * height),\r\n          (1 + Math.random() * 1) * cellSize / 10,\r\n          40 + Math.round(Math.random() * 20)\r\n        )\r\n      );\r\n    }\r\n    // Bind this to the methods\r\n    this.cloud = this.cloud.bind(this);\r\n    this.explosion = this.explosion.bind(this);\r\n    this.render = this.render.bind(this);\r\n    this.restart = this.restart.bind(this);\r\n    this.update = this.update.bind(this);\r\n  }\r\n\r\n  /** @function cloud\r\n   *  Spawns a new cloud effect.\r\n   *  @param  {Object} data Data about position, radius, duration, density, and colors of the cloud.\r\n   */\r\n  cloud(data) {\r\n    this.clouds.push(new Cloud(data.pos, data.rad, data.life, data.dens, data.colors));\r\n  }\r\n\r\n  /** @function explosion\r\n   *  Creates an explosion effect.\r\n   *  @param  {Object} pos The position of the explosion.\r\n   */\r\n  explosion(pos) {\r\n    this.explosions.push(new Explosion(pos, Math.random() * 2 * Math.PI, 10));\r\n    this.clouds.push(new Cloud(pos, this.cellSize, 40, 20, [\"white\", \"purple\", \"green\"]));\r\n  }\r\n\r\n  /** @function render\r\n   *  Renders all visual effects on the buffer.\r\n   *  @param  {CanvasContext} ctx The canvas back buffer.\r\n   */\r\n  render(ctx) {\r\n    // Render twinkles\r\n    this.twinkles.forEach((twinkle) => {\r\n      twinkle.render(ctx);\r\n    });\r\n    // Render explosions\r\n    this.explosions.forEach(explosion => {\r\n      explosion.render(ctx);\r\n    });\r\n    // Render clouds\r\n    this.clouds.forEach(cloud => {\r\n      cloud.render(ctx);\r\n    });\r\n  }\r\n\r\n  /** @function restart\r\n   *  Clears all the visual effects.\r\n   */\r\n  restart() {\r\n    this.explosions = [];\r\n    this.clouds = [];\r\n    this.twinkles = [];\r\n    this.trails = [];\r\n    // Generate the sky\r\n    for (let i = 0; i < 10; i++) {\r\n      this.twinkles.push(\r\n        new Twinkle(\r\n          Vector2D.construct(Math.random() * this.width, Math.random() * this.height),\r\n          (1 + Math.random() * 1) * this.cellSize / 10,\r\n          40 + Math.round(Math.random() * 20)\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  /** @function update\r\n   *  Updates all the visual effects.\r\n   */\r\n  update() {\r\n    // Update twinkles\r\n    for (let i = 0; i < this.twinkles.length; i++) {\r\n      if (!this.twinkles[i].update()) {\r\n        this.twinkles[i] = new Twinkle(Vector2D.construct(Math.random() * this.width, Math.random() * this.height), (1 + Math.random() * 1) * this.cellSize / 10, 40 + Math.round(Math.random() * 20));\r\n      }\r\n    }\r\n    // Update explosions\r\n    for (let i = 0; i < this.explosions.length; i++) {\r\n      if (!this.explosions[i].update()) {\r\n        this.explosions.splice(i, 1);\r\n        i--;\r\n      }\r\n    }\r\n    // Update clouds\r\n    for (let i = 0; i < this.clouds.length; i++) {\r\n      if (!this.clouds[i].update()) {\r\n        this.clouds.splice(i, 1);\r\n        i--;\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/visuals/vfxController.js","/* twinkle.js */\r\n\r\n/** @class Twinkle\r\n *  A twinkling star visual effect.\r\n *  @type {Twinkle}\r\n */\r\nexport default class Twinkle {\r\n  /** @constructor\r\n   *  Constructs a new 'twinkle' visual effect.\r\n   *  @param  {Object} pos  The position of the twinkle.\r\n   *  @param  {Number} size The size of the the twinkle.\r\n   *  @param  {Number} life The duration of the twinkle.\r\n   */\r\n  constructor(pos, size, life) {\r\n    this.pos = pos;\r\n    this.life = life;\r\n    this.maxLife = life;\r\n    this.size = size;\r\n\r\n    this.render = this.render.bind(this);\r\n    this.update = this.update.bind(this);\r\n  }\r\n\r\n  /** @function render\r\n   *  Renders the twinkle on the buffer.\r\n   *  @param  {CanvasContext} ctx The buffer to render on.\r\n   */\r\n  render(ctx) {\r\n    var length = this.life / this.maxLife * this.size;\r\n\r\n    // Save the canvas context settings\r\n    ctx.save();\r\n    // Set fill style to white\r\n    ctx.fillStyle = \"white\";\r\n    // Draw twinkle on background\r\n    ctx.fillRect(this.pos.x - length / 2, this.pos.y - length / 2, length, length);\r\n    // Restore the canvas context settings\r\n    ctx.restore();\r\n  }\r\n\r\n  /** @function update\r\n   *  Decrement the duration of this twinkle.\r\n   *  @return {Boolean}   True if this twinkle remains, false if it 'dies'.\r\n   */\r\n  update() {\r\n    this.life--;\r\n    return this.life;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/visuals/twinkle.js","/* explosion.js */\r\nimport * as Vector2D from \"../vector2D.js\";\r\n\r\n/** @class Explosion\r\n *  An explosion with a variable number of arms.\r\n *  @type {Explosion}\r\n */\r\nexport default class Explosion {\r\n  /** @constructor\r\n   *  Constructs a new explosion visual effect.\r\n   *  @param  {Object}   pos  The position of the explosion.\r\n   *  @param  {Number}   ang  The angle of orientation for the explosion.\r\n   *  @param  {Number}   life The duration that the explosion will appear on screen.\r\n   */\r\n  constructor(pos, ang, life) {\r\n    this.pos = pos;\r\n    this.ang = ang;\r\n    this.bra = 5 + Math.round(Math.random() * 5);\r\n    this.life = life;\r\n    this.maxLife = life;\r\n\r\n    this.render = this.render.bind(this);\r\n    this.update = this.update.bind(this);\r\n  }\r\n\r\n  /** @function render\r\n   *  Renders the explosion effect on the buffer.\r\n   *  @param  {CanvasContext} ctx   The buffer to render on.\r\n   */\r\n  render(ctx) {\r\n    let ang, pos;\r\n\r\n    // Save the canvas context settings\r\n    ctx.save();\r\n    // Translate and rotate the origin to the location of the explosion\r\n    ctx.translate(this.pos.x, this.pos.y);\r\n    ctx.rotate(this.ang);\r\n    // Set stroke color to a transparent white\r\n    ctx.strokeStyle = 'rgba(255, 255, 255, 0.75)';\r\n    // Begin drawing explosion\r\n    ctx.beginPath();\r\n    // Draw each\r\n    for (let j = 0; j < this.bra; j++) {\r\n      // Determine the angle of the branch\r\n      ang = (j / this.bra) * 2 * Math.PI;\r\n      // Move to starting position of the branch\r\n      pos = Vector2D.construct(3, ang, false);\r\n      ctx.moveTo(pos.x, pos.y);\r\n      // Draw to ending position of the branch\r\n      pos = Vector2D.construct(3 + ((this.maxLife - this.life) / this.maxLife) * 9, ang, false);\r\n      ctx.lineTo(pos.x, pos.y);\r\n    }\r\n    // Finish drawing explosion\r\n    ctx.stroke();\r\n    // Restore the canvas context settings\r\n    ctx.restore();\r\n  }\r\n\r\n  /** @function update\r\n   *  Decrements the duration of this explosion.\r\n   *  @return {Boolean}    True if the explosion remains, false if it 'dies'.\r\n   */\r\n  update() {\r\n    this.life--;\r\n    return this.life;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/visuals/explosion.js","/* cloud.js */\r\nimport * as Vector2D from \"../vector2D.js\";\r\n\r\n/** @class Cloud\r\n *  A dust cloud visual effect.\r\n *  @type {Cloud}\r\n */\r\nexport default class Cloud {\r\n  /** @constructor\r\n   *  Constructs a new 'cloud' visual effect.\r\n   *  @param  {Object} pos    The position of the cloud.\r\n   *  @param  {Number} rad    The radius of the the cloud.\r\n   *  @param  {Number} life   The duration of the cloud.\r\n   *  @param  {Array}  colors The colors of the cloud.\r\n   */\r\n  constructor(pos, rad, life, dens, colors) {\r\n    this.pos = pos;\r\n    this.colors = colors;\r\n    this.dens = dens;\r\n    this.life = life;\r\n    this.maxLife = life;\r\n    this.rad = rad;\r\n\r\n    this.render = this.render.bind(this);\r\n    this.update = this.update.bind(this);\r\n  }\r\n\r\n  /** @function render\r\n   *  Renders the cloud on the buffer.\r\n   *  @param  {CanvasContext} ctx The buffer to render on.\r\n   */\r\n  render(ctx) {\r\n    let length = this.life / this.maxLife * this.rad;\r\n    let density = (this.life / this.maxLife) * this.dens;\r\n    let pPos = Vector2D.construct(0, 0);\r\n\r\n    // Save canvas settings\r\n    ctx.save();\r\n    // Translate origin to cloud center\r\n    ctx.translate(this.pos.x, this.pos.y);\r\n    // Fill clouds with particles\r\n    for (let p = 0; p < density; p++) {\r\n      // Set fill color to a random color\r\n      ctx.fillStyle = this.colors[Math.floor(Math.random() * this.colors.length)];\r\n      // Place the particle in a random place in the circle\r\n      pPos = Vector2D.construct(\r\n        length * 0.1 + Math.random() * length * 0.9,\r\n        Math.random() * 2 * Math.PI,\r\n        false);\r\n      // Draw particle\r\n      ctx.fillRect(pPos.x, pPos.y, 1, 1);\r\n    }\r\n    // Restore canvas settings\r\n    ctx.restore();\r\n  }\r\n\r\n  /** @function update\r\n   *  Decrement the duration of this twinkle.\r\n   *  @return {Boolean}   True if this twinkle remains, false if it 'dies'.\r\n   */\r\n  update() {\r\n    this.life--;\r\n    return this.life;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/visuals/cloud.js","/* sfxController.js */\r\n\r\nimport beep_sfx from \"./beep.wav\";\r\nimport powerup_sfx from \"./powerup.wav\";\r\nimport thruster_sfx from \"./thruster.wav\";\r\nimport shoot_sfx from \"./shoot.wav\";\r\nimport death_sfx from \"./death.wav\";\r\nimport bounce_sfx from \"./bounce.wav\";\r\nimport crack_sfx from \"./crack.wav\";\r\nimport break_sfx from \"./break.wav\";\r\n\r\n/** @class SFXController\r\n *  The controller for the sound effects of the game.\r\n *  @type {SFXController}\r\n */\r\nexport default class SFXController {\r\n  /** @constructor\r\n   *  Constructs a sound constroller with all the imported sound effects.\r\n   */\r\n  constructor() {\r\n    // Create channels\r\n    this.channels = {\r\n      \"ui\": document.createElement(\"audio\"),\r\n      \"ship\": document.createElement(\"audio\"),\r\n      \"asteroids\": document.createElement(\"audio\")\r\n    };\r\n    // Append to the webpage\r\n    document.body.appendChild(this.channels[\"ui\"]);\r\n    document.body.appendChild(this.channels[\"ship\"]);\r\n    document.body.appendChild(this.channels[\"asteroids\"]);\r\n    // Create track list\r\n    this.tracks = {\r\n      \"beep\": beep_sfx,\r\n      \"powerup\": powerup_sfx,\r\n      \"thruster\": thruster_sfx,\r\n      \"shoot\": shoot_sfx,\r\n      \"death\": death_sfx,\r\n      \"bounce\": bounce_sfx,\r\n      \"crack\": crack_sfx,\r\n      \"break\": break_sfx\r\n    };\r\n\r\n    this.play = this.play.bind(this);\r\n    this.pause = this.pause.bind(this);\r\n  }\r\n\r\n  /** @function play\r\n   *  Plays the specified sound effect from the beginning.\r\n   *  @param  {String} channel  The channel to play on.\r\n   *  @param  {String} track    The sound to play.\r\n   */\r\n  play(channel, track) {\r\n    channel = this.channels[channel];\r\n    track = this.tracks[track];\r\n    // Change the track and play\r\n    if (!channel.paused)\r\n      channel.pause();\r\n\r\n    if (channel.src !== track) {\r\n      channel.src = track;\r\n      channel.currentTime = 0;\r\n    }\r\n    channel.play();\r\n  }\r\n\r\n  /** @function pause\r\n   *  Pauses the current sound playing.\r\n   *  @param  {String}  channel The channel (or all channels) to pause.\r\n   */\r\n  pause(channel) {\r\n    if (channel === \"all\") {\r\n      for (let chan in this.channels) {\r\n        this.channels[chan].pause();\r\n      }\r\n    }\r\n    else\r\n      this.channels[channel].pause();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/sounds/sfxController.js","module.exports = __webpack_public_path__ + \"static/media/beep.c849949d.wav\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sounds/beep.wav\n// module id = 24\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/powerup.816baf0c.wav\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sounds/powerup.wav\n// module id = 25\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/thruster.c5c8d28a.wav\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sounds/thruster.wav\n// module id = 26\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/shoot.49a55ad9.wav\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sounds/shoot.wav\n// module id = 27\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/death.15ac48cd.wav\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sounds/death.wav\n// module id = 28\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/bounce.077fdc4a.wav\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sounds/bounce.wav\n// module id = 29\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/crack.810a2fb0.wav\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sounds/crack.wav\n// module id = 30\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/break.c3be409a.wav\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sounds/break.wav\n// module id = 31\n// module chunks = 0"],"sourceRoot":""}